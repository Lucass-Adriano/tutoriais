<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Batalha Naval em Kylix/Delphi 6</title>
  </head>
  
  <body>
    <h1>Batalha Naval em Kylix/Delphi 6</h1>
    <P>
      Tabela de conte&uacute;do:<BR></br>
    <OL>
      <LI>Introdu&ccedil;&atilde;o</LI>
      <LI>Audi&ecirc;ncia esperada e pr&eacute;-requisitos</LI>
      <LI>Por que o kylix/Delphi?</LI>
      <LI>Instalando o Kylix/Delphi</LI>
      <LI>As etapas de constru&ccedil;&atilde;o do jogo</LI>
      <LI>Descri&ccedil;&atilde;o do jogo e da interface</LI>
      <LI>Imagens</LI>
      <LI>An&aacute;lise</LI>
      <LI>Implementa&ccedil;&atilde;o da interface</LI>
      <LI>Implementa&ccedil;&atilde;o do c&oacute;digo</LI>
      <LI>C&oacute;digo fonte completo</LI>
    </OL>
  </P>
    <br></br>
    <h2>Introdu&ccedil;&atilde;o</h2>
    <P>
      Muitas pessoas aparentam ter todo o conhecimento t&eacute;cnico necess&aacute;rio para desenvolver jogos, inclusive conhecimentos bem mais avan&ccedil;ados dos que aqui citados sobre Delphi e Kylix. Contudo, mesmo pessoas com um bom conhecimento de programa&ccedil;&atilde;o muitas vezes se atrapalham ao tentar fazer um jogo, mesmo que seja um jogo simples como batalha naval. Simples porque n&atilde;o precisa de velocidade, pois n&atilde;o se utiliza de anima&ccedil;&otilde;es em tempo real, e porque a l&oacute;gica do jogo em si n&atilde;o &eacute; muito complicada.
    </P> 
    <P>
      Este tutorial intenciona ser um guia de implementa&ccedil;&atilde;o de um jogo simples, formalizando, na medida do poss&iacute;vel, os passos gerais necess&aacute;rios para se criar um jogo, em termos gen&eacute;ricos. Em outras palavras, a inten&ccedil;&atilde;o &eacute; que a pessoa que ler este tutorial e implementar os passos aqui descritos comece a se acostumar com a rotina de cria&ccedil;&atilde;o de um jogo.
    </p>
    <P>
      Na parte inicial do tutorial, ser&aacute; discutido levemente como instalar o delphi/kylix, para usu&aacute;rios ainda n&atilde;o muito acostumados com a ferramenta. A seguir, vir&aacute; um discuss&atilde;o sobre quais s&atilde;o as etapas de cria&ccedil;&atilde;o de um jogo e ent&atilde;o a implementa&ccedil;&atilde;o de cada etapa em si.
    </p>
    <br></br>
    <h2>Audi&ecirc;ncia esperada e pr&eacute;-requisitos</h2>
    <P>
      Este tutorial n&atilde;o requer conhecimentos pr&eacute;vios de Delphi/Kylix ou Pascal (no caso, Object Pascal), mas sup&otilde;e, por outro lado, que o leitor saiba pesquisar em outras fontes de informa&ccedil;&otilde;es sobre esse conhecimento. Isso significa que o leitor que j&aacute; souber mexer um pouco em Delphi/Kylix ter&aacute; mais facilidade em entender o que est&aacute; exposto aqui. 
    </P> 
    <P>
      Significa, tamb&eacute;m que esse texto n&atilde;o ir&aacute; se dedicar a ensinar Delphi/Kylix ao leitor. J&aacute; existem diversas literaturas sobre isso, inclusive a pr&oacute;pria ajuda da ferramenta. Nos concentraremos um pouco em criar o jogo em si e na parte pr&aacute;tica da constru&ccedil;&atilde;o do mesmo.
    </p>
    <P>
      Note que, embora n&atilde;o seja esperado muito conhecimento pr&eacute;vio de Kylix/Delphi/Pascal, &eacute; necess&aacute;rio que o leitor j&aacute; conhe&ccedil;a o m&iacute;nimo sobre programa&ccedil;&atilde;o. N&atilde;o ser&aacute; ensinado nesse tutorial como se usa um loop for ou um vetor, por exemplo. 
    </P>
    <br></br>
<!--pagebreak-->
    <h2>Por que o Kylix/Delphi?</h2>
    <P>
      Existem vantagens e desvantagens na utiliza&ccedil;&atilde;o de ferramentas de programa&ccedil;&atilde;o, sendo que cada ferramentas tem as suas. No caso, o Kylix, assim como o Delphi, &eacute; uma ferramenta RAD (Rapid Application Development), o que implica em um r&aacute;pido desenvolvimento da interface do programa. Outras caracter&iacute;stica &eacute; que o Kylix/Delphi tem uma interface e um construtor de interfaces orientado a formul&aacute;rios (janelas). 
    </P> 
    <P>
      Dependendo do tipo de jogo, n&atilde;o conv&eacute;m utilizar uma interface baseada em formul&aacute;rios, sendo interessante construir a interface a partir do zero, mas no caso de um jogo como esse, conv&eacute;m bastante n&atilde;o haver a necessidade de programar os menus ou as janelas, e sim utilizarmos os recursos j&aacute; prontos que uma ferramenta como o Kylix/Delphi oferece.
    </p>
    <P>
      Existem outras vantagens, como orienta&ccedil;&atilde;o a objetos e a eventos, mas as citadas acima s&atilde;o realmente as caracter&iacute;sticas mais relevantes na escolha do Kylix para esse tutorial. Uma &uacute;ltima vantagem seria a facilidade de uso, visto que usu&aacute;rios parecem se sentir bem mais a vontade com ferramentas RAD.
    </p>
    <br></br>
    <h2>Instalando o Kylix/Delphi</h2>
    <P>
      Tanto o Kylix quanto o Delphi s&atilde;o Marcas registradas da <a href="http://www.borland.com/about">Borland </a>. Na &eacute;poca em que esse tutorial foi escrito, existiam duas vers&otilde;es do Kylix, uma profissional e ou chamada edi&ccedil;&atilde;o aberta ou open edition. A edi&ccedil;&atilde;o profissional &eacute; paga permite a cria&ccedil;&atilde;o de aplica&ccedil;&otilde;es que utilizem sons, bancos de dados e v&aacute;rios outros recursos. A edi&ccedil;&atilde;o aberta pode ser usada livremente para criar programas mais limitados e que sejam licenciados pela <a href="http://www.gnu.org">Licen&ccedil;a P&uacute;blica GNU</a>. 
    </P> 
    <P>
      Tudo o que que ser&aacute; feito nesse tutorial foi feito com a edi&ccedil;&atilde;o aberta do Kylix e est&aacute; licenciado sob GPL. Embora o ambiente inicial de desenvolvimento do jogo descrito nesse tutorial tenha sido Debian Linux, o leitor pode seguir sem problemas os passos descritos nesse tutorial se estiver usando outra distribui&ccedil;&atilde;o linux ou mesmo windows. O projeto e o c&oacute;digo fonte encontrado no pacote de distribui&ccedil;&atilde;o do jogo pode ser compilado sem necessidade de altera&ccedil;&atilde;o tanto no Delphi quanto no Kylix.
    </p>
    <P>
      O Delphi 6, na &eacute;poca em que esse texto foi escrito, tamb&eacute;m podia ser encontrado em duas licen&ccedil;as: Profissional e Pessoal. Tanto o Delphi quanto o Kylix podem ser descarregados do site da Borland: <a href="http://www.borland.com/downloads/">http://www.borland.com/downloads/</a>. Ser&aacute; necess&aacute;rio registrar-se no site antes, a fim de recebimento de not&iacute;cias sobre atualiza&ccedil;&otilde;es e para que a Borland possa fazer uma enquete sobre as prefer&ecirc;ncias dos usu&aacute;rios de suas ferramentas.
    </p>
    <P>
      Uma vez descarregado, tanto o Delphi quanto o Kylix possuem instaladores pr&oacute;prios, praticamente auto explicativos, al&eacute;m de um bom material de ajuda sobre a instala&ccedil;&atilde;o. 
    </p>
    <br></br>
<!--pagebreak-->
    <h2>As etapas de cria&ccedil;&atilde;o de um jogo</h2>
    <P>
      Um bom desenvolvedor de jogos sempre segue etapas bem definidas ao criar um jogo, mesmo que seja um jogo simples. &Eacute; importante existir um procedimento bem definido na hora executar certos tipos de tarefa. Existem duas raz&otilde;es principais para isso. A primeira &eacute; para criar o bom costume de ser organizado. A segunda &eacute; que fica muito mais f&aacute;cil trabalhar com outros desenvolvedores de jogos quando todos trabalham da mesma forma, e os procedimentos ajudam a padronizar a forma de trabalho.
    </P> 
    <P>
      As etapas de cria&ccedil;&atilde;o de um jogo podem ser definidas como sendo as seguintes:<BR></br>
    <OL>
      <LI>Descri&ccedil;&atilde;o detalhada do jogo em si</LI>
      <LI>Descri&ccedil;&atilde;o detalhada da interface de usu&aacute;rio do jogo</LI>
      <LI>Cria&ccedil;&atilde;o dos recursos b&aacute;sicos para cria&ccedil;&atilde;o do jogo (arquivos de imagem e som)</LI>
      <LI>An&aacute;lise e projeto (modelamento da programa&ccedil;&atilde;o)</LI>
      <LI>Implementa&ccedil;&atilde;o</LI>
      <LI>Testes</LI>
      <LI>Corre&ccedil;&atilde;o de erros e refinamento</LI>
    </OL>
  </p>
    <P>
      A primeira etapa costuma ser a mais desprezada e a mais importante, ironicamente. A lista de etapas acima n&atilde;o &eacute; aplic&aacute;vel somente a jogos, mas sim a qualquer tipo de programa, especialmente a primeira etapa. Antes de sentar em frente ao computador e come&ccedil;ar a programar o jogo, &eacute; necess&aacute;rio saber exatamente o que ser&aacute; programado. Isso acelera muito o processo de desenvolvimento al&eacute;m de ajudar a diminuir a re-escrita de c&oacute;digo.
    </p>
    <P>
      Isso pode ser colocado como fazendo parte da descri&ccedil;&atilde;o geral do jogo, mas separar as duas etapas ajuda a ter uma vis&atilde;o melhor do projeto. As etapas 3 e 4 podem ser feitas em paralelo, principalmente porque normalmente s&atilde;o feitas por tipos diferentes de profissionais. A etapa 3 n&atilde;o inclui, necessariamente, a cria&ccedil;&atilde;o de todas as imagens e sons que o jogo utilizar&aacute;, mas ao menos a cria&ccedil;&atilde;o dos arquivos de imagens e som. Isso possibilita que os programadores trabalhem enquanto os artistas terminem de criar os recursos necess&aacute;rios.
    </P>
    <P>
      A etapa 4 deve ser feita preferencialmente por um Analista de Sistemas. Basicamente, nessa etapa se coloca no papel o que ser&aacute; feito em termos de programa&ccedil;&atilde;o. A grande maioria das pessoas costuma usar ferramentas CASE para ajudar nessa etapa. Essas ferramentas s&atilde;o normalmente programas que ajudam a criar o modelamento de classes (orienta&ccedil;&atilde;o a objetos) do programa a ser implementado.
    </P>
    <P>
      A pr&oacute;xima etapa, a implementa&ccedil;&atilde;o, consiste em criar o c&oacute;digo em si. Perceba que caso as outras etapas j&aacute; tenham sido conclu&iacute;das, fica muito mais simples criar o c&oacute;digo. Programa pronto, basta corrigir os erros, que sempre existem, e implementas as melhorias finais para que o jogo possa ser lan&ccedil;ado.
    </P>
    <P>
      Nas se&ccedil;&otilde;es seguintes iremos descrever cada etapa em detalhes, na cria&ccedil;&atilde;o do jogo Batalha Naval.
    </P>
    <br></br>
    <h2>Descri&ccedil;&atilde;o do jogo e da interface</h2>
    <P>
      A interface do jogo &eacute; definida como sendo uma janela de resolu&ccedil;&atilde;o fixa (640x480), com qualquer profundidade de cores, que seja dividida em 4 partes bem distintas:<BR>
    <OL>
      <LI>Menu - Parte superior</LI>
      <LI>Tabuleiro do jogador - parte central esquerda</LI>
      <LI>Tabuleiro do computador - parte central direita</LI>
      <LI>Barra de estado - Parte inferior</LI>
    </UL>
    </P> 
    <P>
      A primeira parte &eacute; o menu de sistema, que deve ter menus para que o usu&aacute;rio consiga iniciar um novo jogo e para sair do programa. Os tabuleiros servem para que o usu&aacute;rio consiga jogar e saber a situa&ccedil;&atilde;o do jogo. A barra de estado serve para que mensagens possam ser exibidas durante o jogo sem que o mesmo seja interrompido. 
    </p>
    <P>
      Cada tabuleiro deve ser dividido em uma matriz de 10x10, sendo que cada elemento da matriz corresponda a um elemento do jogo, de tamanho fixo de 32x32 pixels. Os elementos do jogo podem ser os seguintes:<BR>
    <OL>
      <LI>&Aacute;gua</LI>
      <LI>Submarino</LI>
      <LI>Primeira parte de um navio</LI>
      <LI>Segunda parte de um navio</LI>
      <LI>Terceira e &uacute;ltima parte de um navio</LI>
      <LI>Primeira parte de um porta-avi&otilde;es</LI>
      <LI>Segunda  parte de um porta-avi&otilde;es</LI>
      <LI>Terceira parte de um porta-avi&otilde;es</LI>
      <LI>Quarta   parte de um porta-avi&otilde;es</LI>
      <LI>Quinta e &uacute;ltima parte de um porta-avi&otilde;es</LI>
    </OL>
  </P>
    <P>
      Como &eacute; f&aacute;cil de perceber, no jogo poderemos ter apenas &aacute;gua, submarinos, navios e porta-avi&otilde;es, sendo que cada navio &eacute; dividido em 3 peda&ccedil;os e cada porta avi&otilde;es em 5. 
    </P>
    <P>
      A &uacute;ltima parte faltante da defini&ccedil;&atilde;o do jogo &eacute; a defini&ccedil;&atilde;o do fluxo. No nosso caso, o fluxo ser&aacute; da seguinte forma:
    <OL>
      <LI>O usu&aacute;rio (jogador) clica em algum elemento do tabuleiro do computador. Imediatamente, &eacute; mostrado se o jogador acertou &aacute;gua ou algum outro elemento. Caso tenha acertado &aacute;gua, um X azul &eacute; mostrada na posi&ccedil;&atilde;o. Caso tenha acertado outra coisa, um X vermelho &eacute; mostrado, al&eacute;m do elemento. Nota: O jogador n&atilde;o v&ecirc; os elementos do tabuleiro do computador, a n&atilde;o ser que tenha tenha atingido algum. Contudo, o jogador sempre v&ecirc; seu tabuleiro na &iacute;ntegra. </LI>
      <LI>
	Imediatamente ap&oacute;s a jogada do jogador, o computador joga. Tamb&eacute;m &eacute; mostrado X no tabuleiro do jogador para cada tiro do computador com a mesma regra de cores, mas o &uacute;ltimo tiro dado pelo computador &eacute; marcado com a cor verde.
      </LI>
      <LI>
	Ap&oacute;s cada jogada, do computador ou do jogador, &eacute; feita uma verifica&ccedil;&atilde;o para descobrir se um dos dois ganhou o jogo. Caso ningu&eacute;m tenha ganhado, &eacute; esperada uma nova entrada do usu&aacute;rio. Caso o usu&aacute;rio ou o computador tenham ganhado a partida, uma mensagem &eacute; exibida para o usu&aacute;rio e o jogo interrompido.
      </LI>
    </OL>
  </P>
    <P>
      O screenshot a seguir do jogo mostra como ficaria o resultado final: <BR>
      <img src="images/tutors/batnaval/bat01.jpg">
      </p>
    <br>
    <h2>Imagens</h2>
	<P>
      Usaremos poucas imagens nesse jogo. Basicamente, precisamos de uma imagem para a &aacute;gua, de 32x32 pixels, uma imagem para o submarino, tamb&eacute;m de 32x32, uma imagem para o navio de 3*32x32 = 96x32 pixels e uma imagem para o porta avi&otilde;es de 5*32x32 = 160x32 pixels.
    </P> 
    <P>
      No exemplo, foram usadas as imagens a seguir, tiradas de fotos (todas em formato .PNG):<BR></br>
      <img src="images/tutors/batnaval/agua.png"></img><br></br>
	  <img src="images/tutors/batnaval/submarin.png"></img><br></br>
      <img src="images/tutors/batnaval/navio.png"></img><br></br>
	  <img src="images/tutors/batnaval/porta_av.png"></img><br></br>
    </p>
    <P>
      Essas imagens n&atilde;o s&atilde;o exemplo nenhum de design bem feito, mas servem para que a programa&ccedil;&atilde;o possa ser feita. Uma vez que o jogo esteja feito com essas imagens, podemos facilmente substituir as imagens criadas por outras melhores. Isso, contudo, est&aacute; al&eacute;m do escopo desse documento.
    </p>
    <br></br>
<!--pagebreak-->
    <h2>An&aacute;lise</h2>
    <P>
      N&atilde;o h&aacute; muito o que analisar nesse jogo, primeiro pela exaustiva simplicidade do mesmo, segundo por que &eacute; um jogo did&aacute;tico e portanto n&atilde;o intenciona ser um jogo feito da melhor forma poss&iacute;vel mas sim um jogo com c&oacute;digo simples de entender.
    </P> 
	<P>
      Uma an&aacute;lise superficial, contudo, n&atilde;o faz mal a ningu&eacute;m. Basicamente, Teremos 2 agentes em nosso programa: o usu&aacute;rio e a "intelig&ecirc;ncia artificial" do computador. Esses dois agentes estar&atilde;o interagindo com o objeto janela, que agrega dois objetos tabuleiro. 
    </p>
    <P>
      Pronto! N&atilde;o doeu! ;-) Agora podemos partir para a implementa&ccedil;&atilde;o.
    </P>
    <br></br>
    <h2>Implementa&ccedil;&atilde;o da interface</h2>
    <P>
      Chegou a hora. Agora sim, sente em frente ao computador e abra o Kylix (ou o Delphi). Voc&ecirc; dever&aacute; ver uma tela semelhante &agrave; imagem a seguir:<BR>
      <img src="images/tutors/batnaval/img01.jpg">
    </P> 
    <P>
      Na figura, a janela observada ao lado esquerdo &eacute; a janela "Object Inspector". Atrav&eacute;s dessa janela, podemos alterar as propriedades da maioria dos objetos que usamos em nosso programa. Na figura, tamb&eacute;m podemos ver na parte central um formul&aacute;rio (uma janela com o t&iacute;tulo Form1), criada automaticamente quando executamos o kylix.
    </p>
	<P>
      Quando vamos fazer um programa no kylix, precisamos criar um projeto de aplica&ccedil;&atilde;o. Quando iniciamos o Kylix, ele j&aacute; faz isso automaticamente, cria uma nova aplica&ccedil;&atilde;o, mas &eacute; poss&iacute;vel fazer isso manualmente indo ao menu File/New e escolhendo Application no menu que aparece. Um projeto Kylix cont&eacute;m v&aacute;rios outros &iacute;tens al&eacute;m da aplica&ccedil;&atilde;o, como configura&ccedil;&otilde;es sobre o projeto, formul&aacute;rios (janelas) e arquivo de c&oacute;digo fonte em Object Pascal (arquivos .PAS). Para visualizar esses &iacute;tens, v&aacute; ao menu View/Project Manager.
    </p>
    <P>
      Basicamente, para construir uma interface no kylix &eacute; necess&aacute;rio criar os formul&aacute;rios necess&aacute;rios (nesse caso, s&oacute; utilizaremos um), colocar objetos nesses formul&aacute;rios (como bot&otilde;es, objetos armazenadores de imagem, panels, etc) e ent&atilde;o ajustar as propriedades desses formul&aacute;rios e dos objetos (como legenda do formul&aacute;rio, largura, altura, cor, texto de um bot&atilde;o, etc).
    </p>
	<P>
      Vamos come&ccedil;ar alterando as propriedades do formul&aacute;rio. Primeiro, na janela Object Inspector, selecione o formul&aacute;rio Form1. Altere o nome do formul&aacute;rio (name) para frmMain. Altere tamb&eacute;m a largura (width) para 650 e a altura (height) para 384. Altere o estilo de borda para &uacute;nico (BorderStyle=bsSingle) e a legenda (caption) do formul&aacute;rio para "Batalha Naval". 
    </p>
    <P>
      Ajustadas as propriedades b&aacute;sicas do formul&aacute;rio, &eacute; hora de adicionar alguns objetos. Perceba na figura que na parte superior da interface do Kylix existem quatro barras de ferramentas, denominadas "Standard" (padr&atilde;o), "Additional" (adicionais), "Common controls" (controles comuns) e "Dialogs". Para adicionarmos um objeto para a interface, devemos clicar no bot&atilde;o correspondente ao objeto em uma das barras de ferramentas e ent&atilde;o clicar no lugar onde o objeto deve ser adicionado, no caso, o formul&aacute;rio. Vamos tentar agora adicionar objetos no formul&aacute;rio de modo a obtermos algo parecido com o mostrado na figura a seguir:
    </p>
    <P>
      <img src="images/tutors/batnaval/img02.jpg"></img>
    </p>
<!--pagebreak-->
    <P>
      Vamos come&ccedil;ar. Primeiro adicione ao formul&aacute;rio um objeto do tipo "Main Menu", dispon&iacute;vel na barra de ferramentas "Standard". Agora d&ecirc; um duplo clique na caixinha que apareceu dentro do formul&aacute;rio. Voc&ecirc; dever&aacute; ver uma tela como a seguir: <BR></BR>
      <img src="images/tutors/batnaval/img03.jpg"></img>
    </p>
    <P>
      Atrav&eacute;s dessa janela, &eacute; poss&iacute;vel adicionar menus ao aplicativo. Cada menu que voc&ecirc; adiciona tamb&eacute;m tem propriedades que podem ser alteradas na janela Object Inspector. Adicione, por exemplo um menu chamado Jogo. Altere a legenda (Caption) para "&Jogo" para que a letra J fique sublinhada e o menu possa ser rapidamente acessado teclando-se ALT-J. Fa&ccedil;a a mesma coisa com os outros menus. Adicione os seguintes menus (o menu com a legenda ajustada para "-" se torna um separador):<BR></BR>
    <UL>
      <LI>&Jogo</LI>
      <LI><UL>
	  <LI>&Novo</LI>
	  <LI>-</LI>
	  <LI>&Sair</LI>
	</UL></LI>
      <LI>&Ajuda</LI>
      <LI><UL>
	  <LI>&Sobre</LI>
	</UL></LI>
    </UL>
  </p>
    <P>
      Dentre as propriedades ajust&aacute;veis para cada menu est&aacute; a ShortCut (tecla de atalho). Defina CONTROL-Q como sendo a tecla de atalho para o menu Sair. 
    </p>
    <P>
	  Pois bem. Adicionados os menus, voltemos ao resto da interface. Adicione uma barra de estado (status bar) ao formul&aacute;rio e ajuste sua propriedade Align para alBottom. Isso far&aacute; com que a barra de estado ajuste seu tamanho conforme o necess&aacute;rio para que fique alinhada na parte de baixo do formul&aacute;rio. Altere tamb&eacute;m a propriedade Name para "BarraDeEstado" e a propriedade SamplePanel para "True" (verdadeiro). Alterar a propriedade SamplePanel para true apenas significa que utilizaremos a barra de estado apenas para exibirmos mensagens de forma simples, ou seja, quando setarmos o texto a ser exibido na barra, o texto antigo ser&aacute; liberado da mem&oacute;ria. 
    </p>
    <P>
      Agora voc&ecirc; j&aacute; tem um formul&aacute;rio com menu e barra de estado. Vamos adicionar agora os tabuleiros, que s&atilde;o imagens, e as legendas. Primeiro, adicione um objeto do tipo Panel e altere a sua propriedade Align para alClient, de forma que ele ocupe toda a &aacute;rea dispon&iacute;vel do formul&aacute;rio. Altere seu nome (propriedade name) para Panel1. Agora adicione outro panel em cima desse, altere sua largura (width) para 320 e sua propriedade Align para alLeft (alinhamento a esquerda).
    </p>
    <P>
      Pronto? Adicione um objeto do tipo Label (legenda ou etiqueta) nesse novo panel, altere sua propriedade Caption para "Voc&ecirc;" e a propriedade Align para alTop (alinhamento acima). Nesse mesmo panel, abaixo dessa legenda, adicione um objeto do tipo Image (barra de ferramentas Additional) e altere sua altura (width) e largura (height) para 320x320. Essa imagem ser&aacute; o tabuleiro do jogador, que ir&aacute; exibir 10x10 imagens de 32 pixels cada. 
    </p>
    <P>
      Pois bem, a parte da esquerda est&aacute; feita. Siga os mesmo procedimentos para adicionar a parte da direita, mas altere a propriedade do novo Panel para alRight (alinhamento a direita) e a nova legenda para "Computador". Altere a propriedade name do objeto Image da esquerda para "ImgJogador" e a do objeto Image da direita para "ImgComputador".
    </p>
    <P>
      Sobrou um espa&ccedil;o no meio das duas partes, certo? Adicione um objeto do tipo Shape nessa regi&atilde;o e altere sua propriedade Align para alClient. Pronto, agora s&oacute; falta a lista de imagens.
    </p>
    <P>
      Adicione um objeto ImageList (barra de ferramentas Common Controls) ao formul&aacute;rio. Altere a propriedade Name para "ListaDeImagens", a propriedade largura (width) para 32 e a altura (height) tamb&eacute;m para 32. Agora d&ecirc; um duplo clique nesse objeto. Uma janela aparecer&aacute;. Clique no bot&atilde;o Add (adicionar), aparecer&aacute; uma nova janela pedindo arquivos de imagem. Esses arquivos s&atilde;o aquelas imagens em formato PNG que discutimos pouco atr&aacute;s nesse texto, elas devem estar salvas em alguma pasta de seu disco r&iacute;gido.
    </p>
    <P>
      Adicione primeiro o arquivo agua.png, depois submarin.png, depois navio.png e finalmente porta_av.png. Caso o Kylix pergunte se a imagem deve ser dividida, responda sim. O resultado final dever&aacute; ser exatamente como mostrado na figura a seguir:<BR></BR>
      <img src="images/tutors/batnaval/img04.jpg"></img>
    </p>
    <P>
      Pronto! Perceba que as imagens do navio e do porta avi&otilde;es j&aacute; foram automaticamente divididas em quadrados de 32x32 pixels. F&aacute;cil, n&atilde;o &eacute;? Agora vamos come&ccedil;ar a escrever o c&oacute;digo do programa...
	</P> 
    <br></br>
<!--pagebreak-->
    <h2>Implementa&ccedil;&atilde;o do c&oacute;digo</h2>
    <P>
      D&ecirc; um duplo clique no objeto de menu j&aacute; adicionado ao formul&aacute;rio. Clique sobre o menu Sair. Agora, na janela do object Inspect, ao inv&eacute;s de ajustar as propriedades (tabula&ccedil;&atilde;o Properties), vamos ajustar os eventos. Clique na tabula&ccedil;&atilde;o Events na janela Object Inspector. Como o objeto menu Sair est&aacute; selecionado, s&atilde;o os eventos do mesmos que est&atilde;o sendo alterados. Queremos executar um c&oacute;digo (uma fun&ccedil;&atilde;o) quando esse menu for adicionado. D&ecirc; um duplo clique no evento OnClick no Object Inspector. A janela de c&oacute;digo dever&aacute; aparecer na sua frente e uma fun&ccedil;&atilde;o deve ter sido criada.
    </P> 
    <P>
      O c&oacute;digo dessa fun&ccedil;&atilde;o &eacute; simples, simplesmente digite "Close;". Esse comando simplesmente fecha o formul&aacute;rio que cont&eacute;m o menu. Como esse &eacute; o &uacute;nico formul&aacute;rio da aplica&ccedil;&atilde;o, quando ele &eacute; fechado a aplica&ccedil;&atilde;o termina. A figura a seguir ilustra o processo.<BR></BR>
      <img src="images/tutors/batnaval/img05.jpg"></img>
    </p>
<!--pagebreak-->
    <P>
      Da mesma forma feita com o menu sair, podemos associar fun&ccedil;&otilde;es a eventos de qualquer objeto que estamos utilizando. Pratique um pouco mais, adicione um c&oacute;digo similar ao a seguir para o menu Ajuda/Sobre: "ShowMessage('Visite http://mlinuxer.cjb.net para aprender a fazer esse jogo');". Esse c&oacute;digo simplesmente exibe uma mensagem na tela quando o menu &eacute; adicionado. 
    </p>
    <P>
      Experimente o que j&aacute; foi feito at&eacute; agora. Tecle F9. Caso voc&ecirc; n&atilde;o tenha cometido nenhum erro, seu programa ser&aacute; compilado e executado. Saia do seu programa para voltar ao Kylix.  
    </p>
    <P>
      A janela usada para escrever c&oacute;digo &eacute; a janela de c&oacute;digo. Teclando F12, &eacute; poss&iacute;vel alternar entre o desenho da interface da sua janela e o c&oacute;digo que voc&ecirc; est&aacute; escrevendo. Experimente! D&ecirc; uma olhada no c&oacute;digo que est&aacute; escrito nessa janela. Como deve dar para perceber, O Kylix escreve grande parte do c&oacute;digo automaticamente. 
    </p>
    <P>
      &Eacute; importante saber que o c&oacute;digo de todo programa em Kylix &eacute; dividido em duas partes distintas e bem definidas: interface e implementation. Na parte de interface s&atilde;o declaradas vari&aacute;veis e os tipos de objetos a serem utilizados. Por exemplo, &eacute; declarada na cl&aacute;usula type o tipo de TFrmMain como uma classe (classe &eacute; um tipo de objeto) baseada na classe TForm. Mais abaixo, na cl&aacute;usula var, &eacute; declarado um objeto (uma vari&aacute;vel) frmMain do tipo TfrmMain. 
    </p>
    <P>
	  Perceba tamb&eacute;m que v&aacute;rias fun&ccedil;&otilde;es (procedures) s&atilde;o declaradas como sendo parte da classe TfrmMain (m&eacute;todos de TfrmMain). O c&oacute;digo dessas fun&ccedil;&otilde;es, contudo, fica na parte de implementation. 
    </p>
    <P>
      Sempre que for interesse criar uma vari&aacute;vel que seja acess&iacute;vel por todos os m&eacute;todos do formul&aacute;rio, devemos declar&aacute;-la dentro da declara&ccedil;&atilde;o da classe correspondente a aquele formul&aacute;rio. Caso a vari&aacute;vel n&atilde;o precise ou n&atilde;o deva ser acess&iacute;vel a nenhum outro formul&aacute;rio (que &eacute; o nosso caso, pois s&oacute; temos uma formul&aacute;rio), podemos declarar essa vari&aacute;vel dentro da cl&aacute;usula private da classe. Por exemplo, queremos declarar uma vari&aacute;vel do tipo boolean (Verdadeiro ou falso) chamada Jogando, que indicar&aacute; se o jogo est&aacute; em andamento ou n&atilde;o. Ent&atilde;o a declaramos dentro da cl&aacute;usula private da declara&ccedil;&atilde;o da classe TfrmMain da seguinte forma:<BR></BR>
    <pre>
  <font color="#2040a0">private</font>
    <font color="#444444">{ Private declarations }</font>   
    <font color="#2040a0">Jogando</font> <font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>

    </pre>
  </p>
    <P>
      Ent&atilde;o, em qualquer fun&ccedil;&atilde;o do formul&aacute;rio, poderemos usar essa vari&aacute;vel. Agora, vamos discutir um pouco mais sobre como implementaremos o c&oacute;digo antes de avan&ccedil;armos. O c&oacute;digo ser&aacute; implementado da seguinte maneira, iremos declarar duas matrizes de n&uacute;mero inteiros 10x10, cada uma correspondendo a um tabuleiro, o do jogador e o do computador. Cada matriz armazenar&aacute; um n&uacute;mero de 0 at&eacute; 9, que corresponde a imagem contida no quadrado correspondente na tela. Por exemplo, se Declaramos uma matriz de inteiros chamada tabuleiroJogador[1..10, 1..10] e tabuleiroJogador[3,5]=0, ent&atilde;o o quadrado de coordenada x=3 e coordenada y=5 do tabuleiro do jogador deve conter &aacute;gua. Se tabuleiroJogador[3,5]=1, cont&eacute;m um submarino, se igual a 2, cont&eacute;m a primeira parte de um navio, se cont&eacute;m 6, a segunda parte de um porta avi&otilde;es e assim por diante, at&eacute; o 9.
    </p>
    <P>
      Quando um tiro for dado naquele quadrado, ent&atilde;o adicionaremos 1000 a esse valor. Ou seja, se tabuleiroJogador[4,4]=3 (segunda parte de um navio) e o computador d&aacute; um tiro na coordenada (4,4), ent&atilde;o tabuleiroJogador[4,4] passa a ser 1003, ou seja, segunda parte de um navio, mas atingido por um tiro. O mesmo com &aacute;gua e com outras partes.
    </p>
    <P>
      Vamos para a pr&aacute;tica ent&atilde;o. Primeiro, vamos declarar um tipo de dado chamado TTabuleiro (Tipo Tabuleiro) como sendo uma matriz (array) de 10x10. A cl&aacute;usula type ent&atilde;o fica:<br></br>
    <pre>
<strong>type</strong>
  <font color="#2040a0">TTabuleiro</font> <font color="4444FF">=</font> <strong>array</strong><font color="4444FF">[</font><font color="#FF0000">1..10</font>, <font color="#FF0000">1..10</font><font color="4444FF">]</font> <strong>of</strong> <font color="#2040a0">integer</font><font color="4444FF">;</font>
  <font color="#2040a0">TfrmMain</font> <font color="4444FF">=</font> <font color="#2040a0">class</font><font color="4444FF">(</font><font color="#2040a0">TForm</font><font color="4444FF">)   {... o resto do c&oacute;digo}</font>
</pre>
  </p>
    <P>
      E na cl&aacute;usula private, declaramos os tabuleiros do jogador e do computador:
    <pre>
  <font color="#2040a0">private</font>
    <font color="#444444">{ Private declarations }</font>
    <font color="#2040a0">TabuleiroJogador</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font>
    <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font>
    </pre>
  </p>
<!--pagebreak-->
    <P>
      Agora precisamos escrever o c&oacute;digo para basicamente quatro fun&ccedil;&otilde;es para o nosso programa ficar completo: <BR></BR>
    <OL>
      <LI>A fun&ccedil;&atilde;o que responde ao clique no menu novo, ela &eacute; respons&aacute;vel por inicializar as matrizes de inteiros correspondentes aos tabuleiros do jogador e do computador com os &iacute;ndices corretos, a fim de obedecer as regras do batalha naval (por exemplo, dois barcos n&atilde;o podem estar encostados, mesmo que seja em diagonal)</LI>
      <LI>A fun&ccedil;&atilde;o que responde ao evento cria&ccedil;&atilde;o do formul&aacute;rio (OnCreate), &eacute; respons&aacute;vel por inicializar a tabela de n&uacute;mero rand&ocirc;micos do computador e por chamar a fun&ccedil;&atilde;o de Novo jogo (a fun&ccedil;&atilde;o do &iacute;tem acima), de modo que um jogo seja automaticamente iniciado quando o programa for executado.</LI>
      <LI>A fun&ccedil;&atilde;o que responde ao evento Paint. O evento paint &eacute; acionado sempre que o formul&aacute;rio precisa ser re-pintado ou quando acionamos o mesmo manualmente, chamando-o de outra fun&ccedil;&atilde;o.</LI>
      <LI>A fun&ccedil;&atilde;o que responde ao evento de clique de mouse no tabuleiro do computador, pois o jogador ir&aacute; clicar nesse tabuleiro quando quiser disparar um tiro. O nosso programa precisa ser notificado quando o usu&aacute;rio der esse clique e precisa saber em que coordenadas o clique foi dado. Receberemos o evento MouseUp do tabuleiro do computador para esse fim.</LI>
    </OL>
  </p>
    <P>
      Claro que n&atilde;o existir&atilde;o apenas essas quatro fun&ccedil;&otilde;es em nosso programa. Essas fun&ccedil;&otilde;es ir&atilde;o chamar outras fun&ccedil;&otilde;es auxiliares, que tamb&eacute;m precisam ser criadas. Veremos como implementar cada peda&ccedil;o a seguir.
    </p>
<!--pagebreak-->
    <P>
      Vamos come&ccedil;ar pela fun&ccedil;&atilde;o que recebe o evento de cria&ccedil;&atilde;o no formul&aacute;rio. Selecione o formul&aacute;rio no Object Inspector, clique na aba de eventos e d&ecirc; um duplo clique no evento onCreate. Ent&atilde;o, digite o c&oacute;digo a seguir:
    <Pre>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>FormCreate</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Gera</font> <font color="#2040a0">tabela</font> <font color="#2040a0">de</font> <font color="#2040a0">n</font>&uacute;<font color="#2040a0">mero</font> <font color="#2040a0">aleat</font>&oacute;<font color="#2040a0">rios</font>
	<font color="#2040a0">randomize</font><font color="4444FF">;</font>
   //<font color="#2040a0">Inicializa</font> <font color="#2040a0">a</font> <font color="#2040a0">jogada</font> <font color="#2040a0">inicial</font> <strong>do</strong> <font color="#2040a0">computador</font>
   <font color="#2040a0">ultimo_comp_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <font color="4444FF">+</font> <font color="4444FF">(</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
   <font color="#2040a0">ultimo_comp_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <font color="4444FF">+</font> <font color="4444FF">(</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
   <font color="#2040a0">ultimo_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <font color="#2040a0">ultimo_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   //<font color="#2040a0">Inicia</font> <font color="#2040a0">automaticamente</font> <font color="#2040a0">um</font> <font color="#2040a0">novo</font> <font color="#2040a0">jogo</font>, <font color="#2040a0">como</font> <font color="#2040a0">se</font> <font color="#2040a0">o</font> <font color="#2040a0">menu</font> <font color="#2040a0">tivesse</font> <font color="#2040a0">sido</font> <font color="#2040a0">acessado</font>
	<font color="#2040a0">Novo1Click</font><font color="4444FF">(</font><font color="#2040a0">sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>
</pre>
  </p>
    <P>
      Declare tamb&eacute;m as seguintes vari&aacute;veis na cl&aacute;usula privada da classe TfrmMain:<br></BR>
    <Pre>
    <font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
    <font color="#2040a0">ultimo_x</font>, <font color="#2040a0">ultimo_y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
    </pre>
  </p>
    <P>
      Essa fun&ccedil;&atilde;o apenas inicializa a tabela de n&uacute;meros aleat&oacute;rios com a fun&ccedil;&atilde;o randomize da API do kylix, inicializa algumas vari&aacute;veis que utilizaremos depois e chama a fun&ccedil;&atilde;o Novo1Click, que inicia um novo jogo e que responde ao evento do clique no menu Novo.
    </p>
<!--pagebreak-->
    <P>
      Agora D&ecirc; um duplo clique no objeto de menu do formul&aacute;rio e adicione esse evento ao menu novo. Digite o seguinte c&oacute;digo:<BR></br>
    <pre>
<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>Novo1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font>, <font color="#2040a0">k</font>, <font color="#2040a0">l</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">direcao</font>, <font color="#2040a0">ok</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Clique em uma regi&atilde;o na imagem direita para atirar...'</font><font color="4444FF">;</font>
	<font color="#2040a0">Jogando</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
	//<font color="#2040a0">Refaz</font> <font color="#2040a0">as</font> <font color="#2040a0">matrizes</font> <font color="#2040a0">e</font> <font color="#2040a0">atualiza</font> <font color="#2040a0">a</font> <font color="#2040a0">tela</font>
   //<font color="#2040a0">Primeiro</font>, <font color="#2040a0">inicialize</font> <font color="#2040a0">tudo</font> <font color="#2040a0">com</font> <font color="#2040a0">zero</font> <font color="4444FF">(</font>&aacute;<font color="#2040a0">gua</font><font color="4444FF">)</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong> <strong>begin</strong>
      	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF">;</font>
         <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">porta</font> <font color="#2040a0">avi</font>&otilde;<font color="#2040a0">es</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_porta_avioes</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>

            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">navios</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_navios</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">submarinos</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_submarinos</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
	      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
        	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong>
        		<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font>
         <strong>else</strong>
         	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font> &eacute; <font color="#2040a0">a</font> <font color="#2040a0">vez</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font> <strong>do</strong> <font color="#2040a0">computador</font>
   //<font color="#2040a0">Adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">porta</font> <font color="#2040a0">avi</font>&otilde;<font color="#2040a0">es</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_porta_avioes</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">navios</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_navios</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">submarinos</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_submarinos</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
	      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
        	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong>
        		<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font>
         <strong>else</strong>
         	<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>


   //<font color="#2040a0">Desenhe</font> <font color="#2040a0">tudo</font>...
   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>
    </pre>
  </p>
    <P>
      Essa fun&ccedil;&atilde;o &eacute; um pouco interessante. Perceba que h&aacute; uma grande repeti&ccedil;&atilde;o de c&oacute;digo ao longo da fun&ccedil;&atilde;o. Uma c&oacute;digo mais bonito deveria parametrizar melhor as vari&aacute;veis de forma que o c&oacute;digo ficasse menor, mas o objetivo &eacute; que a fun&ccedil;&atilde;o possa ser entendida com facilidade e j&aacute; est&aacute; complicada o suficiente do jeito que est&aacute;. Fica como exerc&iacute;cio melhor&aacute;-la.
    </p>
    <P>
      A parte da fun&ccedil;&atilde;o que vem antes da palavra begin (e depois da var) s&atilde;o declara&ccedil;&otilde;es de vari&aacute;veis que s&oacute; ser&atilde;o usadas dentro dessa fun&ccedil;&atilde;o, ou seja, vari&aacute;veis locais. No in&iacute;cio da fun&ccedil;&atilde;o, a propriedade SimpleText do objeto BarraDeEstado, que t&iacute;nhamos adicionado, &eacute; setada para um texto explicativo. Observe a sintaxe utilizada no kylix para mudar o valor da propriedade de um objeto.
    </p>
    <P>
      Logo ap&oacute;s, a vari&aacute;vel jogando &eacute; setada para verdadeiro (true). Essa vari&aacute;vel foi declarada na cl&aacute;usula private da classe TfrmMain, ent&atilde;o pode ser acessado por qualquer fun&ccedil;&atilde;o dessa classe. No caso, essa fun&ccedil;&atilde;o (TfrmMain.Novo1Click) foi declarada como sendo um m&eacute;todo dessa classe, ent&atilde;o faz sentido usarmos a vari&aacute;vel aqui. Setamos para verdadeiro para habilitar os tiros do usu&aacute;rio no tabuleiro do computador.
    </p>
    <P>
      Os dois loops for a seguir inicializam os dois tabuleiros (as matrizes de inteiros) como sendo &aacute;gua (zero). Uma vez que estejam setados com &aacute;gua, colocamos os barcos em cada tabuleiro com os loops que vem na seq&uuml;&ecirc;ncia. Analise bem o c&oacute;digo.
    </p>
    <P>
      Perceba que s&atilde;o escolhidas posi&ccedil;&otilde;es e dire&ccedil;&otilde;es rand&ocirc;micas para os barcos nos tabuleiros, mas os barcos s&oacute; s&atilde;o realmente adicionados se as posi&ccedil;&otilde;es forem v&aacute;lidas e se as regras do batalha naval forem satisfeitas. O programa fica tentando adicionar os barcos em posi&ccedil;&otilde;es rand&ocirc;micas enquanto (loops while) essas duas condi&ccedil;&otilde;es n&atilde;o forem completamente atendidas.
    </p>
    <P>
      Para verificar a segunda condi&ccedil;&atilde;o, foi criada uma nova fun&ccedil;&atilde;o, VerificaTabuleiro, que retorna verdadeiro caso uma parte de um barco possa ser adicionada naquela posi&ccedil;&atilde;o. Para criar essa fun&ccedil;&atilde;o adicione a seguinte declara&ccedil;&atilde;o dentro da cl&aacute;usula private na declara&ccedil;&atilde;o da classe TfrmMain:<br></br>
<!--pagebreak-->
    <pre>
    <strong>function</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
    </pre>
  </p>
    <P>
      O Kylix exige que a declara&ccedil;&atilde;o acima tem necessariamente depois da declara&ccedil;&atilde;o das vari&aacute;veis. A implementa&ccedil;&atilde;o dessa fun&ccedil;&atilde;o &eacute; simples e &eacute; mostrada a seguir:<br></br>
    <pre>
<strong>function</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>VerificaTabuleiro</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">mini</font>, <font color="#2040a0">maxi</font>, <font color="#2040a0">minj</font>, <font color="#2040a0">maxj</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>

	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">algo</font> <font color="#2040a0">pode</font> <font color="#2040a0">ser</font> <font color="#2040a0">colocado</font> <font color="#2040a0">nessa</font> <font color="#2040a0">posi</font>&ccedil;&atilde;<font color="#2040a0">o</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">pode</font> <font color="#2040a0">ser</font> <font color="#2040a0">colocado</font>
            <font color="#2040a0">exit</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>
    </pre>
  </p>
    <P>
      As quatro primeiras linhas dessa fun&ccedil;&atilde;o setam as vari&aacute;veis mini, minj, maxi, maxj para abranger toda a faixa de valores i e j ao redor da coordenada passada, mas certificam-se tamb&eacute;m de que essa faixa esteja dentro do tabuleiro. Por exemplo, se a coordenada passada for (i=4, j=5), ent&atilde;o mini deve ser 3, minj 4, max 5 e maxj 6. Mas se (i=1, j=10), mini deve ser 1, minj 9, maxi 2 e maxj deve ser 10. Depois &eacute; s&oacute; verificar se alguma dessa partes do tabuleiro n&atilde;o &eacute; &aacute;gua. Se n&atilde;o for, tem algum barco encostado e nada pode ser colocado nessa posi&ccedil;&atilde;o.
    </p>
    <P>
      Perceba, por &uacute;ltimo, que foram utilizadas algumas constantes nessa fun&ccedil;&atilde;o, como num_navios (n&uacute;mero de navios), num_porta_avioes (n&uacute;mero de porta avi&otilde;es) e num_submarinos (n&uacute;mero de submarinos). Essas constantes tem de ser declaradas na parte de interface do c&oacute;digo. Altere o c&oacute;digo abaixo da declara&ccedil;&atilde;o da classe TfrmMain para o seguinte:
    </p>
    <p>
    <pre>
<strong>var</strong>
  <font color="#2040a0">frmMain</font><font color="4444FF">:</font> <font color="#2040a0">TfrmMain</font><font color="4444FF">;</font>

<strong>const</strong>
	<font color="#2040a0">num_navios</font><font color="4444FF">=</font><font color="#FF0000">3</font><font color="4444FF">;</font>
   <font color="#2040a0">num_porta_avioes</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <font color="#2040a0">num_submarinos</font><font color="4444FF">=</font><font color="#FF0000">5</font><font color="4444FF">;</font>

<font color="#2040a0">implementation</font>
    </pre>
    </p>
<!--pagebreak-->
    <P>
      Agora vamos para a fun&ccedil;&atilde;o que responde ao evento Paint. Essa fun&ccedil;&atilde;o &eacute; chamada sempre que o evento Paint &eacute; gerado, ou seja, sempre que a janela precisa ser redesenhada... Ent&atilde;o essa fun&ccedil;&atilde;o deve redesenhar as duas imagens dos tabuleiros de acordo com os valores das matrizes de tabuleiro do jogador e do computador. Note que quando desenhando a imagem do tabuleiro do jogador, todos os &iacute;tens devem ser exibidos, mas quando desenhando a imagem do tabuleiro do computador, s&oacute; os &iacute;tens que o jogador j&aacute; acertou devem ser exibidos. O c&oacute;digo dessa fun&ccedil;&atilde;o &eacute; exibido na seq&uuml;&ecirc;ncia.
    </p>
    <P>
    <pre>
<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Desenha</font> <font color="#2040a0">os</font> <font color="#2040a0">tabuleiros</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong> <strong>begin</strong>
      	//<font color="#2040a0">Tabuleiro</font> <strong>do</strong> <font color="#2040a0">jogador</font>
      	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		      <font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">)</font><font color="4444FF">;</font>
                     <strong>end</strong> <strong>else</strong> <strong>begin</strong>
         	<font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">;</font>
            //<font color="#2040a0">Desenha</font> <font color="#2040a0">junto</font> <font color="#2040a0">um</font> <font color="#2040a0">X</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">=</font><font color="#2040a0">ultimo_x</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">=</font><font color="#2040a0">ultimo_y</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong>
	            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clGreen</font>
            <strong>else</strong> <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">=</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clBlue</font>
            <strong>else</strong>
   	         <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clRed</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Width</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">3</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
     	      <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
         //<font color="#2040a0">Tabuleiro</font> <strong>do</strong> <font color="#2040a0">computador</font>
	      <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		      <font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#FF0000">0</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong> <strong>else</strong> <strong>begin</strong>
         	<font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">;</font>
            //<font color="#2040a0">Desenha</font> <font color="#2040a0">junto</font> <font color="#2040a0">um</font> <font color="#2040a0">X</font>
     	      <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">=</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clBlue</font>
            <strong>else</strong>
   	         <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clRed</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Width</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">3</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
     	      <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>

<strong>end</strong><font color="4444FF">;</font>
    </pre>      
    </p>
    <P>
      A primeira parte dessa fun&ccedil;&atilde;o desenha o tabuleiro do jogador e a segunda parte o do computador. Lembre-se que na hora de criarmos a interface, adicionamos dois controles de Imagem ao formul&aacute;rio e nomeamos os mesmos como ImgJogador e ImgComputador. Tamb&eacute;m adicionamos um controle do tipo ListaDeImagens, com as imagens que queremos desenhar. 
    </p>
    <P>
      Sempre que vamos desenhar alguma coisa em uma janela, quer seja uma imagem, uma linha, um c&iacute;rculo ou o qualquer outro tipo de objeto desenh&aacute;vel, devemos trabalhar com a abstra&ccedil;&atilde;o de Canvas. Canvas &eacute; um tipo de objeto que permite que coisas sejam desenhadas nele. Grosso modo, se um controle tem uma propriedade do tipo Canvas, isso significa que &eacute; poss&iacute;vel desenhar na janela desse controle. 
    </p>
    <P>
      Se queremos desenhar na janela do controle ImgJogador, por exemplo, devemos desenhar em ImgJogador.Canvas . O objeto ListaDeImagens &eacute; um objeto do tipo ImageList e, portanto, tem um m&eacute;todo que podemos utilizar para desenhar algumas imagem da lista em um Canvas. O m&eacute;todo &eacute; TImageList.Draw(TCanvas: canvas; posx, posy: integer, indice_da_imagem: integer);
    </p>
    <P>
      Em outras palavras, para desenharmos a imagem de &iacute;ndice 0 da lista (&aacute;gua) na posi&ccedil;&atilde;o (32, 64) do controle ImgJogador, usar&iacute;amos o seguinte comando: "ListaDeImagens.Draw(ImgJogador.Canvas, 32, 64, 0);". Selecione a palavra Canvas com o mouse e tecle F1 para acionar a ajuda do Kylix sobre objetos do tipo Canvas.
    </p>
    <P>
      Assim como desenhamos imagens, podemos desenhar linhas com os m&eacute;todos MoveTo e LineTo do Canvas. O m&eacute;todo MoveTo(X, Y) move a coordenada atual para a posi&ccedil;&atilde;o (X,Y) do canvas em quest&atilde;o. A fun&ccedil;&atilde;o LineTo(X, Y) desenha uma linha da coordenada atual at&eacute; a coordenada (X, Y) e torna essa &uacute;ltima a coordenada atual. Usamos essas duas fun&ccedil;&otilde;es para desenharmos a letra X nas imagens dos tabuleiros. 
    </p>
    <P>
      Sempre que uma linha &eacute; desenhada em um Canvas, os atributos da propriedade Pen (caneta) do Canvas s&atilde;o utilizados como atributos da linha. Por exemplo, se vamos desenhar uma linha em ImgJogador.Canvas, podemos alterar ImgJogador.Canvas.Pen.Width para alterar a largura da linha e ImgJogador.Canvas.Pen.Color para alterar a cor da linha.
    </p>
    <P>
      Quando desenhamos um X no tabuleiro do computador, verificamos se estamos desenhando em cima de &aacute;gua ou de um barco. Se estivermos desenhando em cima de um barco, desenhamos em vermelho e se estivermos desenhando em cima da &aacute;gua, desenhamos um X azul. No caso do tabuleiro do jogador, verificamos tamb&eacute;m se o X est&aacute; sendo desenhado no &uacute;ltimo disparo do computador (ultimo_x e ultimo_y). Se for o caso, desenhamos em verde, conforme descrevemos na se&ccedil;&atilde;o de descri&ccedil;&atilde;o do jogo e da interface.
    </p>
<!--pagebreak-->
    <P>
      Estamos chegando l&aacute;! Compile o seu programa novamente e rode, teclando F9. Verifique se tudo est&aacute; certinho, se n&atilde;o houve nenhum erro. Se tudo correu bem, ao executar o programa os tabuleiros j&aacute; estar&atilde;o sendo desenhados. No caso do computador, o tabuleiro inteiro dever&aacute; ser apenas &aacute;gua, j&aacute; que os barcos n&atilde;o s&atilde;o mostrados at&eacute; que tenhamos atingido os mesmos. No tabuleiro do jogador deve ser poss&iacute;vel ver todos os barcos. A imagem a seguir ilustra o que foi feito at&eacute; agora:<br></br>
      <img src="images/tutors/batnaval/img06.jpg"></img>
    </p>
    <P>
      Isso j&aacute; est&aacute; bem mais parecido com um jogo, n&atilde;o &eacute; mesmo? S&oacute; falta agora que possamos jogar. Para permitir que o jogador possa jogar, precisamos responder ao evento de clique no tabuleiro do jogador. Clique no tabuleiro do computador, tecle F11 para chamar o Object Inspector, clique na aba de eventos e d&ecirc; um duplo clique no evento MouseUp. Esse ser&aacute; o c&oacute;digo a ser adicionado a essa fun&ccedil;&atilde;o:
    </p>
    <P>
    <pre>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>imgComputadorMouseUp</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">;</font>
  <font color="#2040a0">Button</font><font color="4444FF">:</font> <font color="#2040a0">TMouseButton</font><font color="4444FF">;</font> <font color="#2040a0">Shift</font><font color="4444FF">:</font> <font color="#2040a0">TShiftState</font><font color="4444FF">;</font> <font color="#2040a0">X</font>, <font color="#2040a0">Y</font><font color="4444FF">:</font> <font color="#2040a0">Integer</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">Jogando</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
	<font color="#2040a0">i</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">X</font> <strong>div</strong> <font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font> //<font color="#2040a0">Calcula</font> <font color="#2040a0">os</font> &iacute;<font color="#2040a0">ndices</font> <font color="#2040a0">baseando</font><font color="4444FF">-</font><font color="#2040a0">se</font> <font color="#2040a0">nas</font> <font color="#2040a0">coordenadas</font> <font color="#2040a0">de</font> <font color="#2040a0">tela</font>
   <font color="#2040a0">j</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">Y</font> <strong>div</strong> <font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font> //<font color="#2040a0">Garante</font> <font color="#2040a0">a</font> <font color="#2040a0">integridade</font> <font color="#2040a0">dos</font> &iacute;<font color="#2040a0">ndices</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>,<font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="4444FF">=</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	<font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Este local j&aacute; foi atingido...'</font><font color="4444FF">;</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font> //<font color="#2040a0">Sai</font> <font color="#2040a0">da</font> <font color="#2040a0">fun</font>&ccedil;&atilde;<font color="#2040a0">o</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>,<font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>,<font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">+</font> <font color="#FF0000">1000</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">VerificaVitoria</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
	   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
   	<font color="#2040a0">ShowMessage</font><font color="4444FF">(</font><font color="#008000">'Parab&eacute;ns!! Voc&ecirc; venceu o jogo!!!!'</font><font color="4444FF">)</font><font color="4444FF">;</font>
      <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Voc&ecirc; venceu!'</font><font color="4444FF">;</font>
      <font color="#2040a0">Jogando</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Estou jogando...'</font><font color="4444FF">;</font>
   <font color="#2040a0">computadorJoga</font><font color="4444FF">;</font>
   <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">+</font> <font color="#008000">'Sua vez!'</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">VerificaVitoria</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
	   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
   	<font color="#2040a0">ShowMessage</font><font color="4444FF">(</font><font color="#008000">'Voc&ecirc; perdeu... :-( Boa sorte na pr&oacute;xima...'</font><font color="4444FF">)</font><font color="4444FF">;</font>
      <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Voc&ecirc; perdeu... ;-('</font><font color="4444FF">;</font>
      <font color="#2040a0">Jogando</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>
    </pre>
    </p>
    <P>
      A primeira linha verifica se o jogo est&aacute; em andamento. Caso n&atilde;o esteja, nada dever&aacute; ser feito quando o usu&aacute;rio clicar no tabuleiro.  Esse evento passa como argumento para a fun&ccedil;&atilde;o MouseUp as coordenadas X e Y onde o bot&atilde;o do mouse foi solto, ap&oacute;s ter sido pressionado em algum parte do tabuleiro. Como essas coordenadas est&atilde;o em pixels e cada elemento do tabuleiro tem 32x32 pixels, bastaria dividir a coordenada por 32 para obter a coordenada do tabuleiro, se as coordenadas do tabuleiro iniciassem do zero. Como as coordenadas do tabuleiro come&ccedil;am do 1, devemos adicionar 1 a esse valor, conforme mostrado na segunda e terceira linhas. As coordenadas i,j correspondem ao elemento ao qual o tiro do jogador &eacute; dado.
    </p>
    <P>
      As quatro linhas seguintes apenas verificam se as coordenadas i,j est&atilde;o dentro do tabuleiro, j&aacute; que o usu&aacute;rio pode ter clicado com o mouse dentro do tabuleiro e soltado fora. A pr&oacute;xima condicional verifica se o usu&aacute;rio j&aacute; atirou naquele ponto. Caso n&atilde;o tenha sido, o valor do tabuleiro naquele ponto &eacute; incrementado em 1000, indicando que um tiro j&aacute; foi dado naquele local.
    </p>
    <P>
      A pr&oacute;xima condicional verifica se o jogador j&aacute; venceu o jogo. Para isso, foi usada uma fun&ccedil;&atilde;o VerificaVit&oacute;ria, que recebe um tabuleiro como argumento e Verifica se todos os barcos dentro do tabuleiros j&aacute; foram atingidos. Se j&aacute; tiverem sido, ela retorna true (verdadeiro). A seguir &eacute; chamada uma fun&ccedil;&atilde;o "computadorJoga", que executa a jogada do computador no tabuleiro do jogador. Ent&atilde;o &eacute; verificado se o computador ganhou ou n&atilde;o fazendo-se uso da mesma fun&ccedil;&atilde;o VerificaVitoria e a fun&ccedil;&atilde;o FormPaint &eacute; chamada explicitamente, para que o programa redesenhe a tela. Vejamos agora o c&oacute;digo das fun&ccedil;&otilde;es VerificaVitoria e computadorJoga.
    </p>
<!--pagebreak-->
    <P>
    <pre>
<strong>function</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>VerificaVitoria</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">o</font> <font color="#2040a0">tabuleiro</font> <font color="#2040a0">ainda</font> <font color="#2040a0">tem</font> <font color="#2040a0">itens</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">atingidos</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> &eacute; &aacute;<font color="#2040a0">gua</font> <font color="#2040a0">e</font> <font color="#2040a0">ainda</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">foi</font> <font color="#2040a0">atingido</font>
            <font color="#2040a0">exit</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>
<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>computadorJoga</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">ok</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
   <font color="#2040a0">mini</font>, <font color="#2040a0">maxi</font>, <font color="#2040a0">minj</font>, <font color="#2040a0">maxj</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">possivel_acertar</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
   <font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&uacute;<font color="#2040a0">mero</font> <font color="#2040a0">de</font> <font color="#2040a0">acertos</font> <font color="#2040a0">no</font> <font color="#2040a0">barco</font> <font color="#2040a0">atual</font>
   <font color="#2040a0">num_correntex</font>, <font color="#2040a0">num_correntey</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&uacute;<font color="#2040a0">mero</font> <font color="#2040a0">de</font> <font color="#2040a0">partes</font> <strong>do</strong> <font color="#2040a0">barco</font> <font color="#2040a0">atual</font>
   <font color="#2040a0">tamanhomin</font>, <font color="#2040a0">tamanhomax</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Acha</font> <font color="#2040a0">a</font> <font color="#2040a0">regi</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">a</font> <font color="#2040a0">tentar</font> <font color="#2040a0">acertar</font>  <font color="#2040a0">e</font>
	//<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">deixa</font> <font color="#2040a0">coordenadas</font> <font color="#2040a0">sairem</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font>
  	<font color="#2040a0">tamanhomin</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
  	<font color="#2040a0">tamanhomax</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <strong>case</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">)</font> <strong>of</strong>
	<font color="#FF0000">1002</font>,<font color="#FF0000">1003</font>,<font color="#FF0000">1004</font><font color="4444FF">:</font> <strong>begin</strong>
   	<font color="#2040a0">tamanhomin</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1002</font><font color="4444FF">;</font>
      <font color="#2040a0">tamanhomax</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1004</font><font color="4444FF">-</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#FF0000">1005</font>,<font color="#FF0000">1006</font>,<font color="#FF0000">1007</font>,<font color="#FF0000">1008</font>,<font color="#FF0000">1009</font><font color="4444FF">:</font> <strong>begin</strong>
     	<font color="#2040a0">tamanhomin</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1005</font><font color="4444FF">;</font>
      <font color="#2040a0">tamanhomax</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1009</font><font color="4444FF">-</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">-</font><font color="#2040a0">tamanhomin</font><font color="4444FF">;</font>
   <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">+</font><font color="#2040a0">tamanhomax</font><font color="4444FF">;</font>
   <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">-</font><font color="#2040a0">tamanhomin</font><font color="4444FF">;</font>
   <font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">+</font><font color="#2040a0">tamanhomax</font><font color="4444FF">;</font>
  	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">mini</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">minj</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxi</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxj</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>

   //<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">o</font> <font color="#2040a0">computador</font> <font color="#2040a0">j</font>&aacute; <font color="#2040a0">poderia</font> <font color="#2040a0">saber</font> <font color="#2040a0">a</font> <font color="#2040a0">dire</font>&ccedil;&atilde;<font color="#2040a0">o</font> <strong>do</strong> <font color="#2040a0">barco</font> <font color="#2040a0">se</font>
   // <font color="#2040a0">fosse</font> <font color="#2040a0">um</font> <font color="#2040a0">humano</font> <font color="4444FF">(</font><font color="#2040a0">duas</font> <font color="#2040a0">partes</font> <strong>do</strong> <font color="#2040a0">barco</font> <font color="#2040a0">acertadas</font><font color="4444FF">)</font>
   <font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <font color="#2040a0">num_correntex</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <font color="#2040a0">num_correntey</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
     	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
         	<font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_acertos_corrente</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	  			<font color="#2040a0">num_correntex</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_correntex</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
  	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong>
		<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
         	<font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_acertos_corrente</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	         <font color="#2040a0">num_correntey</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_correntey</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">num_acertos_corrente</font><font color="4444FF">&gt;</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	<strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">num_correntex</font><font color="4444FF">)</font><font color="4444FF">&gt;</font><font color="4444FF">(</font><font color="#2040a0">num_correntey</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
      	<font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">;</font>
         <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">;</font>
      <strong>end</strong> <strong>else</strong> <strong>begin</strong>
	      <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">;</font>
         <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong> <strong>else</strong> <strong>begin</strong>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">mini</font><font color="4444FF">&lt;</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxi</font><font color="4444FF">&gt;</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">minj</font><font color="4444FF">&lt;</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxj</font><font color="4444FF">&gt;</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">h</font>&aacute; <font color="#2040a0">algo</font> <font color="#2040a0">a</font> <font color="#2040a0">ser</font> <font color="#2040a0">acertado</font> <font color="#2040a0">ao</font> <font color="#2040a0">lado</font> <font color="#2040a0">da</font> &uacute;<font color="#2040a0">ltima</font> <font color="#2040a0">jogada</font>
   <font color="#2040a0">possivel_acertar</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">false</font><font color="4444FF">;</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
				<font color="#2040a0">possivel_acertar</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">true</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>

   <strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="4444FF">(</font><font color="#444444">(*(ultimo_comp_acertou) and *)</font><font color="4444FF">(</font><font color="#2040a0">possivel_acertar</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	//<font color="#2040a0">Se</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">passar</font> <font color="#2040a0">por</font> <font color="#2040a0">aqui</font>, &eacute; <font color="#2040a0">por</font> <font color="#2040a0">que</font> <font color="#2040a0">somente</font> <font color="#2040a0">a</font> <font color="#2040a0">regi</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">ao</font> <font color="#2040a0">lado</font> <font color="#2040a0">da</font>
      //  <font color="#2040a0">posi</font>&ccedil;&atilde;<font color="#2040a0">o</font> <font color="4444FF">(</font><font color="#2040a0">x</font>,<font color="#2040a0">y</font><font color="4444FF">)</font> <font color="#2040a0">no</font> <font color="#2040a0">tabuleiro</font> <font color="#2040a0">da</font> &uacute;<font color="#2040a0">ltima</font> <font color="#2040a0">rodada</font> <font color="#2040a0">deve</font> <font color="#2040a0">ser</font> <font color="#2040a0">tentada</font>
      //<font color="#2040a0">Se</font> <font color="#2040a0">passar</font> <font color="#2040a0">por</font> <font color="#2040a0">aqui</font>, <font color="#2040a0">ent</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">qualquer</font> <font color="#2040a0">parte</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font> <font color="#2040a0">deve</font> <font color="#2040a0">ser</font> <font color="#2040a0">tentada</font>
      <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>
      <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

	//<font color="#2040a0">Processa</font> <font color="#2040a0">a</font> <font color="#2040a0">jogada</font> <strong>do</strong> <font color="#2040a0">computador</font>
   <font color="#2040a0">ok</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
   <strong>while</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">ok</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#2040a0">maxi</font><font color="4444FF">-</font><font color="#2040a0">mini</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">;</font> //&quot;<font color="#2040a0">Chute</font>&quot; <font color="#2040a0">valores</font> <font color="#2040a0">dentro</font> <font color="#2040a0">da</font> <font color="#2040a0">faixa</font>
   	<font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#2040a0">maxj</font><font color="4444FF">-</font><font color="#2040a0">minj</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">;</font>
      <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong> //<font color="#2040a0">Ainda</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">foi</font> <font color="#2040a0">acertado</font>
      	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">Redundante</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
				<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">+</font> <font color="#FF0000">1000</font><font color="4444FF">;</font>
		   	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong> //<font color="#2040a0">Se</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <strong>for</strong> &aacute;<font color="#2040a0">gua</font>
					<font color="#2040a0">ultimo_comp_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font><font color="4444FF">;</font>
					<font color="#2040a0">ultimo_comp_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font><font color="4444FF">;</font>
		   	<strong>end</strong><font color="4444FF">;</font>
		  		<font color="#2040a0">ok</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
            <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">+</font>
            	<font color="#008000">'  Joguei em: ('</font><font color="4444FF">+</font><font color="#2040a0">IntToStr</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">+</font><font color="#008000">','</font><font color="4444FF">+</font><font color="#2040a0">IntToStr</font><font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">+</font><font color="#008000">')  '</font><font color="4444FF">;</font>
            <font color="#2040a0">ultimo_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font><font color="4444FF">;</font>
            <font color="#2040a0">ultimo_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

<strong>end</strong><font color="4444FF">;</font>
    </pre>
    </p>
    <P>
N&atilde;o se esque&ccedil;a de adicionar o c&oacute;digo a seguir dentro da cl&aacute;usula private na declara&ccedil;&atilde;o da classe TfrmMain:<br></br>
    <pre>
    <strong>procedure</strong> <font color="#2040a0">computadorJoga</font><font color="4444FF">;</font>
    <strong>function</strong> <font color="#2040a0">VerificaVitoria</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
    </pre>
    </p>
    <P>
      A fun&ccedil;&atilde;o VerificaVitoria &eacute; razoavelmente simples. Seu c&oacute;digo verifica se o computador n&atilde;o ganhou, ou seja, varre todo o tabuleiro procurando por um barco que ainda n&atilde;o tenha sido atingido. Caso encontre, retorna false (falso) e sai da fun&ccedil;&atilde;o. Caso termine de varrer todo o tabuleiro e n&atilde;o tenha encontrado, retorna true (verdadeiro) indicando que houve vit&oacute;ria.
    </p>
    <P>
      A fun&ccedil;&atilde;o computadorJoga, por outro lado, &eacute; uma das fun&ccedil;&otilde;es mais complicadas do programa, sen&atilde;o a mais complicada. Essa fun&ccedil;&atilde;o poderia ser bem mais simples, ela poderia apenas escolher randomicamente duas coordenadas do tabuleiro do jogador que ainda n&atilde;o tivessem sido acertadas por tiros e atirar nesse ponto (somar 1000 ao elemento correspondente na matriz Tabuleiro jogador).
    </p>
    <P>
      O problema &eacute; que essa fun&ccedil;&atilde;o seria pouco esperta e n&atilde;o teria gra&ccedil;a jogar contra o computador. O ideal &eacute; que caso o computador tenha acertado um navio ou um porta avi&otilde;es, ele direcione os pr&oacute;ximos tiros da melhor forma poss&iacute;vel para terminar de acertar o navio ou o porta avi&otilde;es.
    </p>
    <P>
      Para fazer isso, a fun&ccedil;&atilde;o se baseia no seguinte. Sempre que o computador atira no tabuleiro do jogador e acerta um barco, as coordenadas do tiros s&atilde;o guardadas nas vari&aacute;veis ultimo_comp_x e ultimo_comp_y. A primeira parte da fun&ccedil;&atilde;o (a instru&ccedil;&atilde;o case) verifica o que havia nessas coordenadas, se uma parte de um navio ou de um porta avi&otilde;es. Caso seja uma dessas partes, as vari&aacute;veis tamanhomin e tamanhomax guardam o maior valor poss&iacute;vel a ser diminuindo ou aumentado para o pr&oacute;ximo tiro. Por exemplo, se da &uacute;ltima vez que o computador acertou um barco ele acertou a segunda parte de um porta avi&otilde;es (&iacute;ndice 1006) nas coordenadas (4,4), ent&atilde;o a primeira parte s&oacute; pode ter coordenadas superiores a (4-1, 4-1)=(3,3). Do mesmo modo, as outras partes s&oacute; poderiam ter coordenadas inferiores a (4+3, 4+3)=(7,7). 
    </p>
    <P>
      Nesse caso, tamanhomin seria 1 e tamanhomax seria 3. Os dois pontos (3,3) e (7,7), por sua vez, estariam delimitando um quadrado dentro do tabuleiro no qual as outras partes do barco podem estar contidas. Esse quadrado no c&oacute;digo &eacute; representado pelas vari&aacute;veis (mini, minj) e (maxi, maxj). Ap&oacute;s a instru&ccedil;&atilde;o case, essas coordenadas s&atilde;o calculadas e &eacute; verificado se as mesmas est&atilde;o dentro do tabuleiro (imagine um caso onde a segunda parte do porta avi&otilde;es tenha sido acertada na posi&ccedil;&atilde;o [1, 3]).
    </p>
    <P>
      Perceba, contudo, que esse quadrado onde as outras partes do navio possivelmente estariam presume que o navio ou o porta avi&otilde;es possa estar tanto na vertical quanto na horizontal, mas caso o computador j&aacute; tenha acertado duas partes do barco em quest&atilde;o, j&aacute; seria poss&iacute;vel saber se o barco est&aacute; na vertical ou na horizontal. O c&oacute;digo que vem em seq&uuml;&ecirc;ncia tenta descobrir isso. Todos os pontos que possivelmente cont&eacute;m o barco no tabuleiro dentro do quadrado que achamos s&atilde;o verificados, de forma a descobrirmos quantos acertos foram feitos na horizontal, na vertical e em ambos.
    </p>
    <P>
      Caso j&aacute; tenhamos acertado mais de uma parte do barco, verificamos o n&uacute;mero de acertos em x e em y para descobrir se o barco est&aacute; na vertical ou na horizontal e ent&atilde;o limitamos a nossa regi&atilde;o de poss&iacute;vel acerto, que antes era um quadrado, para uma linha onde &eacute; poss&iacute;vel estar o barco. Caso s&oacute; tenhamos acertado uma parte do barco, ent&atilde;o minimizamos o quadrado de forma a s&oacute; abranger os pontos vizinhos ao &uacute;ltimo ponto acertado. De outro modo, poder&iacute;amos estar acertando outro barco.
    </p>
    <P>
      Considere agora que ap&oacute;s v&aacute;rias jogadas consecutivas o computador j&aacute; tenha atingido todo o barco (por exemplo, todo um porta avi&otilde;es). Nesse caso, teremos que tentar acertar um ponto randomicamente dentro de todo o tabuleiro. Por isso, a fun&ccedil;&atilde;o verifica se na regi&atilde;o de poss&iacute;vel acerto (mini, minj - maxi, maxj) ainda h&aacute; alguma coisa a ser acertada. Caso haja, a regi&atilde;o &eacute; deixada inalterada. Caso n&atilde;o exista mais nada a ser acertado, ent&atilde;o mini, minj, maxi, maxj s&atilde;o alterados para abranger o tabuleiro inteiro (min=1, minj=1, maxi=10, maxj=10).
    </p>
    <P>
      A parte final do c&oacute;digo simplesmente descobre um ponto na regi&atilde;o de poss&iacute;vel acerto que ainda n&atilde;o tenha sido atingido e atira l&aacute;. Caso tenha acertado, as coordenadas ultimo_comp_x e ultimo_comp_y s&atilde;o atualizadas. As coordenadas ultimo_x e ultimo_y correspondem &agrave;s &uacute;ltimas coordenadas onde o computador deu um tiro e s&atilde;o atualizadas mesmo que nada tenha sido acertado.
    </p>
    <P>
      Perceba que essa &uacute;ltima parte do c&oacute;digo chama uma fun&ccedil;&atilde;o chamada redundante para saber se &eacute; besteira atirar no ponto adivinhado naquele chute dentro da regi&atilde;o de poss&iacute;vel acerto. O c&oacute;digo dessa fun&ccedil;&atilde;o &eacute; mostrado a seguir:
    </p>
<!--pagebreak-->
    <P>
    <pre>

<strong>function</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>Redundante</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">mini</font>, <font color="#2040a0">maxi</font>, <font color="#2040a0">minj</font>, <font color="#2040a0">maxj</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	//<font color="#2040a0">as</font> <font color="#2040a0">regras</font> <strong>do</strong> <font color="#2040a0">batalha</font> <font color="#2040a0">naval</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">permitem</font> <font color="#2040a0">que</font>
	//<font color="#2040a0">barcos</font> <font color="#2040a0">sejam</font> <font color="#2040a0">colocados</font> <font color="#2040a0">encostados</font>, <font color="#2040a0">mesmo</font> <font color="#2040a0">em</font> <font color="#2040a0">diagonal</font>
   //<font color="#2040a0">Essa</font> <font color="#2040a0">fun</font>&ccedil;&atilde;<font color="#2040a0">o</font> <font color="#2040a0">verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">isso</font> <font color="#2040a0">ocorre</font> <font color="#2040a0">para</font> <font color="#2040a0">que</font> <font color="#2040a0">o</font> <font color="#2040a0">computador</font> <font color="#2040a0">fa</font>&ccedil;<font color="#2040a0">a</font> <font color="#2040a0">uma</font>
   //<font color="#2040a0">boa</font> <font color="#2040a0">jogada</font> <font color="4444FF">(</font><font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">redundante</font><font color="4444FF">)</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> &eacute; <font color="#2040a0">redundante</font> <font color="#2040a0">jogar</font> <font color="#2040a0">aqui</font>, <font color="#2040a0">pois</font> <font color="#2040a0">vai</font> <font color="#2040a0">acertar</font> <font color="#2040a0">em</font> <font color="#2040a0">algo</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">existem</font> <font color="#2040a0">vizinhos</font> <font color="#2040a0">j</font>&aacute; <font color="#2040a0">acertados</font> <font color="#2040a0">nessa</font> <font color="#2040a0">posi</font>&ccedil;&atilde;<font color="#2040a0">o</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
            <font color="#2040a0">exit</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>
    </pre>
    </p>
    <P>
N&atilde;o se esque&ccedil;a de adicionar o seguinte c&oacute;digo dentro da cl&aacute;usula private na declara&ccedil;&atilde;o da classe TfrmMain:<br></br>
<pre>
    <strong>function</strong> <font color="#2040a0">Redundante</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
</pre>      
    </p>
    <P>
      Essa fun&ccedil;&atilde;o &eacute; usada apenas para que a jogada do computador seja realmente a melhor poss&iacute;vel. Segundo as regras do Batalha Naval (veja a se&ccedil;&atilde;o de descri&ccedil;&atilde;o da interface e do jogo), dois elementos n&atilde;o podem estar encostados, mesmo que seja em diagonal. Essa fun&ccedil;&atilde;o verifica se isso acontece e, caso aconte&ccedil;a, retorna verdadeiro (true), indicando que &eacute; redundante jogar naquele ponto.
    </p>
    <P>
      A primeira parte dessa fun&ccedil;&atilde;o verifica se o ponto cont&eacute;m &aacute;gua ou n&atilde;o. Caso n&atilde;o contenha, nenhuma outra verifica&ccedil;&atilde;o precisa ser feita, pois se h&aacute; um barco naquela posi&ccedil;&atilde;o ent&atilde;o n&atilde;o &eacute; besteira (n&atilde;o &eacute; redundante) atirar ali, existe algo a ser acertado. Caso o conte&uacute;do da posi&ccedil;&atilde;o seja &aacute;gua, ent&atilde;o deve ser verificado se existem vizinhos dessa posi&ccedil;&atilde;o que j&aacute; foram acertados. Se existirem, ent&atilde;o o computador teria condi&ccedil;&otilde;es de saber, caso fosse um jogador humano, que seria besteira jogar naquela posi&ccedil;&atilde;o, pois se existe um barco vizinho essa posi&ccedil;&atilde;o s&oacute; pode ser &aacute;gua. Essa posi&ccedil;&atilde;o &eacute;, portanto, redundante.
    </p>
    <P>
      Tecle F9 para compilar e rodar o seu programa. Verifique se tudo est&aacute; funcionando OK e, caso n&atilde;o esteja, verifique novamente o c&oacute;digo que voc&ecirc; escreveu para ver se n&atilde;o tem nada de errado.
    </p>
    <P>
      Pronto!! Acabou! A&iacute; est&aacute; todo o c&oacute;digo necess&aacute;rio para escrever o Batalha Naval usando Kylix/Delphi. D&uacute;vidas? D&ecirc; uma passadinha na <a href="hhtp://mlinuxer.cjb.net">MPage (http://MLinuxer.cjb.net)</a> e fa&ccedil;a perguntas no f&oacute;rum ou inscreva-se na lista de discuss&atilde;o. A pr&oacute;xima se&ccedil;&atilde;o exibe o c&oacute;digo fonte completo do programa para f&aacute;cil refer&ecirc;ncia.
    </p>
    
<!--pagebreak-->
    <br></br>
    <h2>C&oacute;digo fonte completo</h2>
    <P>
      Abaixo &eacute; disponibilizado o c&oacute;digo fonte inteiro do programa, para que o leitor tenha maior facilidade na an&aacute;lise. &Eacute; recomendado imprimir o c&oacute;digo e tentar entend&ecirc;-lo por completo, caso ainda tenham restado d&uacute;vidas. 
    </P> 
    <br></br>
    <hr></hr>	
    <br></br>	
    <pre>
<font color="#2040a0">unit</font> <font color="#2040a0">main</font><font color="4444FF">;</font>

<font color="#2040a0">interface</font>

<font color="#2040a0">uses</font>
  <font color="#2040a0">SysUtils</font>, <font color="#2040a0">Types</font>, <font color="#2040a0">Classes</font>, <font color="#2040a0">Variants</font>, <font color="#2040a0">QGraphics</font>, <font color="#2040a0">QControls</font>, <font color="#2040a0">QForms</font>, <font color="#2040a0">QDialogs</font>,
  <font color="#2040a0">QMenus</font>, <font color="#2040a0">QTypes</font>, <font color="#2040a0">QImgList</font>, <font color="#2040a0">QExtCtrls</font>, <font color="#2040a0">QComCtrls</font>, <font color="#2040a0">QStdCtrls</font><font color="4444FF">;</font>

<strong>type</strong>
  <font color="#2040a0">TTabuleiro</font> <font color="4444FF">=</font> <strong>array</strong><font color="4444FF">[</font><font color="#FF0000">1..10</font>, <font color="#FF0000">1..10</font><font color="4444FF">]</font> <strong>of</strong> <font color="#2040a0">integer</font><font color="4444FF">;</font>
  <font color="#2040a0">TfrmMain</font> <font color="4444FF">=</font> <font color="#2040a0">class</font><font color="4444FF">(</font><font color="#2040a0">TForm</font><font color="4444FF">)</font>
    <font color="#2040a0">MainMenu1</font><font color="4444FF">:</font> <font color="#2040a0">TMainMenu</font><font color="4444FF">;</font>
    <font color="#2040a0">Jogo1</font><font color="4444FF">:</font> <font color="#2040a0">TMenuItem</font><font color="4444FF">;</font>
    <font color="#2040a0">Ajuda1</font><font color="4444FF">:</font> <font color="#2040a0">TMenuItem</font><font color="4444FF">;</font>
    <font color="#2040a0">Novo1</font><font color="4444FF">:</font> <font color="#2040a0">TMenuItem</font><font color="4444FF">;</font>
    <font color="#2040a0">N1</font><font color="4444FF">:</font> <font color="#2040a0">TMenuItem</font><font color="4444FF">;</font>
    <font color="#2040a0">Sair1</font><font color="4444FF">:</font> <font color="#2040a0">TMenuItem</font><font color="4444FF">;</font>
    <font color="#2040a0">Sobre1</font><font color="4444FF">:</font> <font color="#2040a0">TMenuItem</font><font color="4444FF">;</font>
    <font color="#2040a0">ListaDeImagens</font><font color="4444FF">:</font> <font color="#2040a0">TImageList</font><font color="4444FF">;</font>
    <font color="#2040a0">BarraDeEstado</font><font color="4444FF">:</font> <font color="#2040a0">TStatusBar</font><font color="4444FF">;</font>
    <font color="#2040a0">Panel1</font><font color="4444FF">:</font> <font color="#2040a0">TPanel</font><font color="4444FF">;</font>
    <font color="#2040a0">Panel2</font><font color="4444FF">:</font> <font color="#2040a0">TPanel</font><font color="4444FF">;</font>
    <font color="#2040a0">Label1</font><font color="4444FF">:</font> <font color="#2040a0">TLabel</font><font color="4444FF">;</font>
    <font color="#2040a0">ImgJogador</font><font color="4444FF">:</font> <font color="#2040a0">TImage</font><font color="4444FF">;</font>
    <font color="#2040a0">Panel3</font><font color="4444FF">:</font> <font color="#2040a0">TPanel</font><font color="4444FF">;</font>
    <font color="#2040a0">imgComputador</font><font color="4444FF">:</font> <font color="#2040a0">TImage</font><font color="4444FF">;</font>
    <font color="#2040a0">Label2</font><font color="4444FF">:</font> <font color="#2040a0">TLabel</font><font color="4444FF">;</font>
    <font color="#2040a0">Shape1</font><font color="4444FF">:</font> <font color="#2040a0">TShape</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">Sobre1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">Sair1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">Novo1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">FormCreate</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">imgComputadorMouseUp</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">;</font> <font color="#2040a0">Button</font><font color="4444FF">:</font> <font color="#2040a0">TMouseButton</font><font color="4444FF">;</font>
      <font color="#2040a0">Shift</font><font color="4444FF">:</font> <font color="#2040a0">TShiftState</font><font color="4444FF">;</font> <font color="#2040a0">X</font>, <font color="#2040a0">Y</font><font color="4444FF">:</font> <font color="#2040a0">Integer</font><font color="4444FF">)</font><font color="4444FF">;</font>
  <font color="#2040a0">private</font>
    <font color="#444444">{ Private declarations }</font>
    <font color="#2040a0">TabuleiroJogador</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font>
    <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font>
    <font color="#2040a0">Jogando</font> <font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
    <font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
    <font color="#2040a0">ultimo_x</font>, <font color="#2040a0">ultimo_y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
    <strong>procedure</strong> <font color="#2040a0">computadorJoga</font><font color="4444FF">;</font>
    <strong>function</strong> <font color="#2040a0">VerificaVitoria</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
    <strong>function</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
    <strong>function</strong> <font color="#2040a0">Redundante</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
  <font color="#2040a0">public</font>
    <font color="#444444">{ Public declarations }</font>
  <strong>end</strong><font color="4444FF">;</font>

<strong>var</strong>
  <font color="#2040a0">frmMain</font><font color="4444FF">:</font> <font color="#2040a0">TfrmMain</font><font color="4444FF">;</font>

<strong>const</strong>
	<font color="#2040a0">num_navios</font><font color="4444FF">=</font><font color="#FF0000">3</font><font color="4444FF">;</font>
   <font color="#2040a0">num_porta_avioes</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <font color="#2040a0">num_submarinos</font><font color="4444FF">=</font><font color="#FF0000">5</font><font color="4444FF">;</font>

<font color="#2040a0">implementation</font>

<font color="#444444">{$R *.xfm}</font>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>Sobre1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>begin</strong>
	<font color="#2040a0">ShowMessage</font><font color="4444FF">(</font><font color="#008000">'Aprenda como fazer esse jogo acessando o site http://mlinuxer.cjb.net/'</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>Sair1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>begin</strong>
	<font color="#2040a0">Close</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>Novo1Click</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font>, <font color="#2040a0">k</font>, <font color="#2040a0">l</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">direcao</font>, <font color="#2040a0">ok</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Clique em uma regi&atilde;o na imagem direita para atirar...'</font><font color="4444FF">;</font>
	<font color="#2040a0">Jogando</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
	//<font color="#2040a0">Refaz</font> <font color="#2040a0">as</font> <font color="#2040a0">matrizes</font> <font color="#2040a0">e</font> <font color="#2040a0">atualiza</font> <font color="#2040a0">a</font> <font color="#2040a0">tela</font>
   //<font color="#2040a0">Primeiro</font>, <font color="#2040a0">inicialize</font> <font color="#2040a0">tudo</font> <font color="#2040a0">com</font> <font color="#2040a0">zero</font> <font color="4444FF">(</font>&aacute;<font color="#2040a0">gua</font><font color="4444FF">)</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong> <strong>begin</strong>
      	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF">;</font>
         <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">porta</font> <font color="#2040a0">avi</font>&otilde;<font color="#2040a0">es</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_porta_avioes</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>

            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">navios</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_navios</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">submarinos</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_submarinos</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
	      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
        	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong>
        		<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font>
         <strong>else</strong>
         	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font> &eacute; <font color="#2040a0">a</font> <font color="#2040a0">vez</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font> <strong>do</strong> <font color="#2040a0">computador</font>
   //<font color="#2040a0">Adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">porta</font> <font color="#2040a0">avi</font>&otilde;<font color="#2040a0">es</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_porta_avioes</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">5</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">4</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">5</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">navios</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_navios</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
		   <font color="#2040a0">direcao</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">2</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">direcao</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="#444444">(*vertical*)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font> <strong>to</strong> <font color="#2040a0">j</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">l</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong> <strong>else</strong> <strong>begin</strong> <font color="#444444">(*horizontal*)</font>
			   <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">-</font><font color="#FF0000">3</font><font color="4444FF">)</font><font color="4444FF">;</font>
		      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong> <strong>begin</strong>
            	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
               	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
                  <font color="#2040a0">break</font><font color="4444FF">;</font>
               <strong>end</strong><font color="4444FF">;</font>
            <strong>end</strong><font color="4444FF">;</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong>
            	<strong>for</strong> <font color="#2040a0">l</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font> <strong>to</strong> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="#FF0000">2</font> <strong>do</strong>
            		<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">l</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">2</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">l</font><font color="4444FF">-</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">;</font>
		   <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

   //<font color="#2040a0">Agora</font>, <font color="#2040a0">adicione</font> <font color="#2040a0">os</font> <font color="#2040a0">submarinos</font>
   <strong>for</strong> <font color="#2040a0">k</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#2040a0">num_submarinos</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   	<strong>while</strong><font color="4444FF">(</font><font color="#2040a0">ok</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
	      <font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
	      <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">;</font>
        	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">VerificaTabuleiro</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong>
        		<font color="#2040a0">ok</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font>
         <strong>else</strong>
         	<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>


   //<font color="#2040a0">Desenhe</font> <font color="#2040a0">tudo</font>...
   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>


<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Desenha</font> <font color="#2040a0">os</font> <font color="#2040a0">tabuleiros</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong> <strong>begin</strong>
      	//<font color="#2040a0">Tabuleiro</font> <strong>do</strong> <font color="#2040a0">jogador</font>
      	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		      <font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong> <strong>else</strong> <strong>begin</strong>
         	<font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">;</font>
            //<font color="#2040a0">Desenha</font> <font color="#2040a0">junto</font> <font color="#2040a0">um</font> <font color="#2040a0">X</font>
            <strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">=</font><font color="#2040a0">ultimo_x</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">=</font><font color="#2040a0">ultimo_y</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong>
	            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clGreen</font>
            <strong>else</strong> <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">=</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clBlue</font>
            <strong>else</strong>
   	         <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clRed</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Width</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">3</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
     	      <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgJogador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
         //<font color="#2040a0">Tabuleiro</font> <strong>do</strong> <font color="#2040a0">computador</font>
	      <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
		      <font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#FF0000">0</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong> <strong>else</strong> <strong>begin</strong>
         	<font color="#2040a0">ListaDeImagens<font color="4444FF">.</font>Draw</font><font color="4444FF">(</font><font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas</font>, <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>,
   		   	<font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">;</font>
            //<font color="#2040a0">Desenha</font> <font color="#2040a0">junto</font> <font color="#2040a0">um</font> <font color="#2040a0">X</font>
     	      <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">=</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clBlue</font>
            <strong>else</strong>
   	         <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Color</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">clRed</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>Pen<font color="4444FF">.</font>Width</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">3</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
     	      <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>MoveTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
            <font color="#2040a0">ImgComputador<font color="4444FF">.</font>Canvas<font color="4444FF">.</font>LineTo</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font>, <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">*</font><font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
//            <font color="#2040a0">ShowMessage</font><font color="4444FF">(</font><font color="#2040a0">IntToStr</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font> <font color="4444FF">+</font> <font color="#008000">' '</font> <font color="4444FF">+</font> <font color="#2040a0">IntToStr</font><font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>

<strong>end</strong><font color="4444FF">;</font>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>FormCreate</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Gera</font> <font color="#2040a0">tabela</font> <font color="#2040a0">de</font> <font color="#2040a0">n</font>&uacute;<font color="#2040a0">mero</font> <font color="#2040a0">aleat</font>&oacute;<font color="#2040a0">rios</font>
	<font color="#2040a0">randomize</font><font color="4444FF">;</font>
   //<font color="#2040a0">Inicializa</font> <font color="#2040a0">a</font> <font color="#2040a0">jogada</font> <font color="#2040a0">inicial</font> <strong>do</strong> <font color="#2040a0">computador</font>
   <font color="#2040a0">ultimo_comp_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <font color="4444FF">+</font> <font color="4444FF">(</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
   <font color="#2040a0">ultimo_comp_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <font color="4444FF">+</font> <font color="4444FF">(</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#FF0000">10</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
   <font color="#2040a0">ultimo_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <font color="#2040a0">ultimo_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   //<font color="#2040a0">Inicia</font> <font color="#2040a0">automaticamente</font> <font color="#2040a0">um</font> <font color="#2040a0">novo</font> <font color="#2040a0">jogo</font>, <font color="#2040a0">como</font> <font color="#2040a0">se</font> <font color="#2040a0">o</font> <font color="#2040a0">menu</font> <font color="#2040a0">tivesse</font> <font color="#2040a0">sido</font> <font color="#2040a0">acessado</font>
	<font color="#2040a0">Novo1Click</font><font color="4444FF">(</font><font color="#2040a0">sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>imgComputadorMouseUp</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">:</font> <font color="#2040a0">TObject</font><font color="4444FF">;</font>
  <font color="#2040a0">Button</font><font color="4444FF">:</font> <font color="#2040a0">TMouseButton</font><font color="4444FF">;</font> <font color="#2040a0">Shift</font><font color="4444FF">:</font> <font color="#2040a0">TShiftState</font><font color="4444FF">;</font> <font color="#2040a0">X</font>, <font color="#2040a0">Y</font><font color="4444FF">:</font> <font color="#2040a0">Integer</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">Jogando</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
	<font color="#2040a0">i</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">X</font> <strong>div</strong> <font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font> //<font color="#2040a0">Calcula</font> <font color="#2040a0">os</font> &iacute;<font color="#2040a0">ndices</font> <font color="#2040a0">baseando</font><font color="4444FF">-</font><font color="#2040a0">se</font> <font color="#2040a0">nas</font> <font color="#2040a0">coordenadas</font> <font color="#2040a0">de</font> <font color="#2040a0">tela</font>
   <font color="#2040a0">j</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">+</font><font color="4444FF">(</font><font color="#2040a0">Y</font> <strong>div</strong> <font color="#FF0000">32</font><font color="4444FF">)</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font> //<font color="#2040a0">Garante</font> <font color="#2040a0">a</font> <font color="#2040a0">integridade</font> <font color="#2040a0">dos</font> &iacute;<font color="#2040a0">ndices</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>,<font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="4444FF">=</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	<font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Este local j&aacute; foi atingido...'</font><font color="4444FF">;</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font> //<font color="#2040a0">Sai</font> <font color="#2040a0">da</font> <font color="#2040a0">fun</font>&ccedil;&atilde;<font color="#2040a0">o</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>,<font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">TabuleiroComputador</font><font color="4444FF">[</font><font color="#2040a0">i</font>,<font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">+</font> <font color="#FF0000">1000</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">VerificaVitoria</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroComputador</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
	   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
   	<font color="#2040a0">ShowMessage</font><font color="4444FF">(</font><font color="#008000">'Parab&eacute;ns!! Voc&ecirc; venceu o jogo!!!!'</font><font color="4444FF">)</font><font color="4444FF">;</font>
      <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Voc&ecirc; venceu!'</font><font color="4444FF">;</font>
      <font color="#2040a0">Jogando</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Estou jogando...'</font><font color="4444FF">;</font>
   <font color="#2040a0">computadorJoga</font><font color="4444FF">;</font>
   <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">+</font> <font color="#008000">'Sua vez!'</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">VerificaVitoria</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
	   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
   	<font color="#2040a0">ShowMessage</font><font color="4444FF">(</font><font color="#008000">'Voc&ecirc; perdeu... :-( Boa sorte na pr&oacute;xima...'</font><font color="4444FF">)</font><font color="4444FF">;</font>
      <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#008000">'Voc&ecirc; perdeu... ;-('</font><font color="4444FF">;</font>
      <font color="#2040a0">Jogando</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">FormPaint</font><font color="4444FF">(</font><font color="#2040a0">Sender</font><font color="4444FF">)</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>

<strong>procedure</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>computadorJoga</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">ok</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
   <font color="#2040a0">mini</font>, <font color="#2040a0">maxi</font>, <font color="#2040a0">minj</font>, <font color="#2040a0">maxj</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">possivel_acertar</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
   <font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&uacute;<font color="#2040a0">mero</font> <font color="#2040a0">de</font> <font color="#2040a0">acertos</font> <font color="#2040a0">no</font> <font color="#2040a0">barco</font> <font color="#2040a0">atual</font>
   <font color="#2040a0">num_correntex</font>, <font color="#2040a0">num_correntey</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&uacute;<font color="#2040a0">mero</font> <font color="#2040a0">de</font> <font color="#2040a0">partes</font> <strong>do</strong> <font color="#2040a0">barco</font> <font color="#2040a0">atual</font>
   <font color="#2040a0">tamanhomin</font>, <font color="#2040a0">tamanhomax</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Acha</font> <font color="#2040a0">a</font> <font color="#2040a0">regi</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">a</font> <font color="#2040a0">tentar</font> <font color="#2040a0">acertar</font>  <font color="#2040a0">e</font>
	//<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">deixa</font> <font color="#2040a0">coordenadas</font> <font color="#2040a0">sairem</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font>
  	<font color="#2040a0">tamanhomin</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
  	<font color="#2040a0">tamanhomax</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <strong>case</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">)</font> <strong>of</strong>
	<font color="#FF0000">1002</font>,<font color="#FF0000">1003</font>,<font color="#FF0000">1004</font><font color="4444FF">:</font> <strong>begin</strong>
   	<font color="#2040a0">tamanhomin</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1002</font><font color="4444FF">;</font>
      <font color="#2040a0">tamanhomax</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1004</font><font color="4444FF">-</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#FF0000">1005</font>,<font color="#FF0000">1006</font>,<font color="#FF0000">1007</font>,<font color="#FF0000">1008</font>,<font color="#FF0000">1009</font><font color="4444FF">:</font> <strong>begin</strong>
     	<font color="#2040a0">tamanhomin</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">-</font><font color="#FF0000">1005</font><font color="4444FF">;</font>
      <font color="#2040a0">tamanhomax</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1009</font><font color="4444FF">-</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
   <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">-</font><font color="#2040a0">tamanhomin</font><font color="4444FF">;</font>
   <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">+</font><font color="#2040a0">tamanhomax</font><font color="4444FF">;</font>
   <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">-</font><font color="#2040a0">tamanhomin</font><font color="4444FF">;</font>
   <font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">+</font><font color="#2040a0">tamanhomax</font><font color="4444FF">;</font>
  	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">mini</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">minj</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxi</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxj</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>

   //<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">o</font> <font color="#2040a0">computador</font> <font color="#2040a0">j</font>&aacute; <font color="#2040a0">poderia</font> <font color="#2040a0">saber</font> <font color="#2040a0">a</font> <font color="#2040a0">dire</font>&ccedil;&atilde;<font color="#2040a0">o</font> <strong>do</strong> <font color="#2040a0">barco</font> <font color="#2040a0">se</font>
   // <font color="#2040a0">fosse</font> <font color="#2040a0">um</font> <font color="#2040a0">humano</font> <font color="4444FF">(</font><font color="#2040a0">duas</font> <font color="#2040a0">partes</font> <strong>do</strong> <font color="#2040a0">barco</font> <font color="#2040a0">acertadas</font><font color="4444FF">)</font>
   <font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <font color="#2040a0">num_correntex</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <font color="#2040a0">num_correntey</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">0</font><font color="4444FF">;</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
     	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
         	<font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_acertos_corrente</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	  			<font color="#2040a0">num_correntex</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_correntex</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
  	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong>
		<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
         	<font color="#2040a0">num_acertos_corrente</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_acertos_corrente</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
         <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">ultimo_comp_x</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong>
	         <font color="#2040a0">num_correntey</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">num_correntey</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">num_acertos_corrente</font><font color="4444FF">&gt;</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	<strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">num_correntex</font><font color="4444FF">)</font><font color="4444FF">&gt;</font><font color="4444FF">(</font><font color="#2040a0">num_correntey</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
      	<font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">;</font>
         <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_y</font><font color="4444FF">;</font>
      <strong>end</strong> <strong>else</strong> <strong>begin</strong>
	      <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">;</font>
         <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">ultimo_comp_x</font><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong> <strong>else</strong> <strong>begin</strong>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">mini</font><font color="4444FF">&lt;</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxi</font><font color="4444FF">&gt;</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">minj</font><font color="4444FF">&lt;</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">maxj</font><font color="4444FF">&gt;</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">ultimo_comp_y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">h</font>&aacute; <font color="#2040a0">algo</font> <font color="#2040a0">a</font> <font color="#2040a0">ser</font> <font color="#2040a0">acertado</font> <font color="#2040a0">ao</font> <font color="#2040a0">lado</font> <font color="#2040a0">da</font> &uacute;<font color="#2040a0">ltima</font> <font color="#2040a0">jogada</font>
   <font color="#2040a0">possivel_acertar</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">false</font><font color="4444FF">;</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
				<font color="#2040a0">possivel_acertar</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#2040a0">true</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>

   <strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="4444FF">(</font><font color="#444444">(*(ultimo_comp_acertou) and *)</font><font color="4444FF">(</font><font color="#2040a0">possivel_acertar</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	//<font color="#2040a0">Se</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">passar</font> <font color="#2040a0">por</font> <font color="#2040a0">aqui</font>, &eacute; <font color="#2040a0">por</font> <font color="#2040a0">que</font> <font color="#2040a0">somente</font> <font color="#2040a0">a</font> <font color="#2040a0">regi</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">ao</font> <font color="#2040a0">lado</font> <font color="#2040a0">da</font>
      //  <font color="#2040a0">posi</font>&ccedil;&atilde;<font color="#2040a0">o</font> <font color="4444FF">(</font><font color="#2040a0">x</font>,<font color="#2040a0">y</font><font color="4444FF">)</font> <font color="#2040a0">no</font> <font color="#2040a0">tabuleiro</font> <font color="#2040a0">da</font> &uacute;<font color="#2040a0">ltima</font> <font color="#2040a0">rodada</font> <font color="#2040a0">deve</font> <font color="#2040a0">ser</font> <font color="#2040a0">tentada</font>
      //<font color="#2040a0">Se</font> <font color="#2040a0">passar</font> <font color="#2040a0">por</font> <font color="#2040a0">aqui</font>, <font color="#2040a0">ent</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">qualquer</font> <font color="#2040a0">parte</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font> <font color="#2040a0">deve</font> <font color="#2040a0">ser</font> <font color="#2040a0">tentada</font>
      <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>
      <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

	//<font color="#2040a0">Processa</font> <font color="#2040a0">a</font> <font color="#2040a0">jogada</font> <strong>do</strong> <font color="#2040a0">computador</font>
   <font color="#2040a0">ok</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
   <strong>while</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">ok</font><font color="4444FF">)</font> <strong>do</strong> <strong>begin</strong>
   	<font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#2040a0">maxi</font><font color="4444FF">-</font><font color="#2040a0">mini</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">;</font> //&quot;<font color="#2040a0">Chute</font>&quot; <font color="#2040a0">valores</font> <font color="#2040a0">dentro</font> <font color="#2040a0">da</font> <font color="#2040a0">faixa</font>
   	<font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font><font color="4444FF">+</font><font color="#2040a0">random</font><font color="4444FF">(</font><font color="#2040a0">maxj</font><font color="4444FF">-</font><font color="#2040a0">minj</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">)</font><font color="4444FF">;</font>
      <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong> //<font color="#2040a0">Ainda</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">foi</font> <font color="#2040a0">acertado</font>
      	<strong>if</strong> <font color="4444FF">(</font><strong>not</strong> <font color="#2040a0">Redundante</font><font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font>, <font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
				<font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font> <font color="4444FF">+</font> <font color="#FF0000">1000</font><font color="4444FF">;</font>
		   	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">TabuleiroJogador</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong> //<font color="#2040a0">Se</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <strong>for</strong> &aacute;<font color="#2040a0">gua</font>
					<font color="#2040a0">ultimo_comp_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font><font color="4444FF">;</font>
					<font color="#2040a0">ultimo_comp_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font><font color="4444FF">;</font>
		   	<strong>end</strong><font color="4444FF">;</font>
		  		<font color="#2040a0">ok</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
            <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">BarraDeEstado<font color="4444FF">.</font>SimpleText</font> <font color="4444FF">+</font>
            	<font color="#008000">'  Joguei em: ('</font><font color="4444FF">+</font><font color="#2040a0">IntToStr</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font><font color="4444FF">+</font><font color="#008000">','</font><font color="4444FF">+</font><font color="#2040a0">IntToStr</font><font color="4444FF">(</font><font color="#2040a0">j</font><font color="4444FF">)</font><font color="4444FF">+</font><font color="#008000">')  '</font><font color="4444FF">;</font>
            <font color="#2040a0">ultimo_x</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">i</font><font color="4444FF">;</font>
            <font color="#2040a0">ultimo_y</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">j</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>

<strong>end</strong><font color="4444FF">;</font>

<strong>function</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>VerificaVitoria</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">o</font> <font color="#2040a0">tabuleiro</font> <font color="#2040a0">ainda</font> <font color="#2040a0">tem</font> <font color="#2040a0">itens</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">atingidos</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#FF0000">1</font> <strong>to</strong> <font color="#FF0000">10</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> &eacute; &aacute;<font color="#2040a0">gua</font> <font color="#2040a0">e</font> <font color="#2040a0">ainda</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">foi</font> <font color="#2040a0">atingido</font>
            <font color="#2040a0">exit</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>

<strong>function</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>VerificaTabuleiro</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">mini</font>, <font color="#2040a0">maxi</font>, <font color="#2040a0">minj</font>, <font color="#2040a0">maxj</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>

	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">algo</font> <font color="#2040a0">pode</font> <font color="#2040a0">ser</font> <font color="#2040a0">colocado</font> <font color="#2040a0">nessa</font> <font color="#2040a0">posi</font>&ccedil;&atilde;<font color="#2040a0">o</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">pode</font> <font color="#2040a0">ser</font> <font color="#2040a0">colocado</font>
            <font color="#2040a0">exit</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>

<strong>function</strong> <font color="#2040a0">TfrmMain<font color="4444FF">.</font>Redundante</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">Tabuleiro</font><font color="4444FF">:</font> <font color="#2040a0">TTabuleiro</font><font color="4444FF">;</font> <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">)</font><font color="4444FF">:</font> <font color="#2040a0">boolean</font><font color="4444FF">;</font>
<strong>var</strong>
	<font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
   <font color="#2040a0">mini</font>, <font color="#2040a0">maxi</font>, <font color="#2040a0">minj</font>, <font color="#2040a0">maxj</font><font color="4444FF">:</font> <font color="#2040a0">integer</font><font color="4444FF">;</font>
<strong>begin</strong>
	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">mini</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">mini</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">&lt;</font><font color="#FF0000">1</font><font color="4444FF">)</font>  <strong>then</strong> <font color="#2040a0">minj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">1</font>  <strong>else</strong> <font color="#2040a0">minj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxi</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxi</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">&gt;</font><font color="#FF0000">10</font><font color="4444FF">)</font> <strong>then</strong> <font color="#2040a0">maxj</font><font color="4444FF">:</font><font color="4444FF">=</font><font color="#FF0000">10</font> <strong>else</strong> <font color="#2040a0">maxj</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">y</font><font color="4444FF">+</font><font color="#FF0000">1</font><font color="4444FF">;</font>
	//<font color="#2040a0">as</font> <font color="#2040a0">regras</font> <strong>do</strong> <font color="#2040a0">batalha</font> <font color="#2040a0">naval</font> <font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">permitem</font> <font color="#2040a0">que</font>
	//<font color="#2040a0">barcos</font> <font color="#2040a0">sejam</font> <font color="#2040a0">colocados</font> <font color="#2040a0">encostados</font>, <font color="#2040a0">mesmo</font> <font color="#2040a0">em</font> <font color="#2040a0">diagonal</font>
   //<font color="#2040a0">Essa</font> <font color="#2040a0">fun</font>&ccedil;&atilde;<font color="#2040a0">o</font> <font color="#2040a0">verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">isso</font> <font color="#2040a0">ocorre</font> <font color="#2040a0">para</font> <font color="#2040a0">que</font> <font color="#2040a0">o</font> <font color="#2040a0">computador</font> <font color="#2040a0">fa</font>&ccedil;<font color="#2040a0">a</font> <font color="#2040a0">uma</font>
   //<font color="#2040a0">boa</font> <font color="#2040a0">jogada</font> <font color="4444FF">(</font><font color="#2040a0">n</font>&atilde;<font color="#2040a0">o</font> <font color="#2040a0">redundante</font><font color="4444FF">)</font>
   <strong>if</strong> <font color="4444FF">(</font><font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">0</font><font color="4444FF">)</font> <strong>and</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">]</font><font color="4444FF">&lt;</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
   	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font> //<font color="#2040a0">N</font>&atilde;<font color="#2040a0">o</font> &eacute; <font color="#2040a0">redundante</font> <font color="#2040a0">jogar</font> <font color="#2040a0">aqui</font>, <font color="#2040a0">pois</font> <font color="#2040a0">vai</font> <font color="#2040a0">acertar</font> <font color="#2040a0">em</font> <font color="#2040a0">algo</font>
      <font color="#2040a0">exit</font><font color="4444FF">;</font>
   <strong>end</strong><font color="4444FF">;</font>
	//<font color="#2040a0">Verifica</font> <font color="#2040a0">se</font> <font color="#2040a0">existem</font> <font color="#2040a0">vizinhos</font> <font color="#2040a0">j</font>&aacute; <font color="#2040a0">acertados</font> <font color="#2040a0">nessa</font> <font color="#2040a0">posi</font>&ccedil;&atilde;<font color="#2040a0">o</font> <strong>do</strong> <font color="#2040a0">tabuleiro</font>
   <strong>for</strong> <font color="#2040a0">i</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">mini</font> <strong>to</strong> <font color="#2040a0">maxi</font> <strong>do</strong>
   	<strong>for</strong> <font color="#2040a0">j</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">minj</font> <strong>to</strong> <font color="#2040a0">maxj</font> <strong>do</strong> <strong>begin</strong>
      	<strong>if</strong> <font color="4444FF">(</font><font color="#2040a0">Tabuleiro</font><font color="4444FF">[</font><font color="#2040a0">i</font>, <font color="#2040a0">j</font><font color="4444FF">]</font><font color="4444FF">&gt;</font><font color="#FF0000">1000</font><font color="4444FF">)</font> <strong>then</strong> <strong>begin</strong>
         	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">true</font><font color="4444FF">;</font>
            <font color="#2040a0">exit</font><font color="4444FF">;</font>
         <strong>end</strong><font color="4444FF">;</font>
      <strong>end</strong><font color="4444FF">;</font>
	<font color="#2040a0">Result</font> <font color="4444FF">:</font><font color="4444FF">=</font> <font color="#2040a0">false</font><font color="4444FF">;</font>
<strong>end</strong><font color="4444FF">;</font>


<strong>end</strong>.

</pre>
<hr>
syntax highlighted by <a href="http://www.palfrader.org/code2html">Code2HTML</a>, v. 0.9
	<hr></hr>
	<a href="http://mlinuxer.cjb.net">Mpage</a>
	<address><a href="mailto:marceloelias@iname.com">Marcelo Elias Del Valle</a></address>
	<!-- Created: Fri Nov 30 17:38:13 BRST 2001 -->
	<!-- hhmts start -->
Last modified: Mon Dec  3 01:55:46 BRST 2001
<!-- hhmts end -->
    </body>
  </html>
  